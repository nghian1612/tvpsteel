!function($,window,document,undefined){"use strict";function VitrineTheme(){var self=this;self.$window=$(window),self.$document=$(document),self.$body=$("body"),self.windowHeight=self.$window.height(),self.windowWidth=self.$window.width(),self.documentHeight=self.$document.height(),self.msie=window.navigator.userAgent.indexOf("self.msie "),self.msie11=navigator.userAgent.match(/Trident.*rv\:11\./),self.isTouchDevice=!!Modernizr.touchevents,self.isMobile=!!(self.isTouchDevice&&self.windowWidth<=767),self.isTablet=!!(self.isTouchDevice&&self.windowWidth>=768&&self.windowWidth<=1140),self.blogPageNum=0,self.$epHeader=$("#epHeader"),self.scrolingToSection=!1,self.externalClicked=!1,self.$scrolId,self.enableScrollId,self.menuArray=[],self.pageRefresh=!0,self.content=!1,self.ajaxLoading=!1,self.wrapperHeight,self.djax,self.assets={script:[],css:[]},self.$scrollpals=$("html, body"),self.wcNoticeTimer,self.resizeId,self.sliderWidth,self.imagePosition,self.projectContainer,self.pDError=$("#pDError"),self.pDetailNav=$(".navWrap"),self.$portfolioID,self.$portfolioBackLink,self.$skills,self.account_popup(),self.cookiesBar(),self.init()}VitrineTheme.prototype={init:function(){var self=this;self.initExtensions(),self.bind()},initExtensions:function(){var self=this;self.page_transition(),self.scriptUpdateActions(),self.lazyLoadOnLoad("#main-content, .toggleSidebar"),self.fix_IOS_double_tap_issue(),self.embed_video_lightgallery(),self.product_gallery_popup_lightGallery(),self.snap_to_scroll(),self.djaxifyRequests(),self.portfolio_next_prev(),self.homeHeight(),self.epico_singlePage(),self.portfolioLike(),self.portfolioSlider(),self.galleryStart(),self.carousel_gallery(),self.cat_widget_update(),self.cat_widget(),self.epico_shortcode(!1),self.portfolioIsotope(0),self.portfolioDHashChange(),self.portfolioLoadMore(),self.pDNavigationNext(),self.pDNavigationPrevious(),self.Social_link(),self.pDCloseProject(),self.pDInitialize(),self.portfolioDetailNavigationLoading(),self.epico_blogMasonry(),self.blogLoadMore(),self.blogToggle(),self.blogPostSlider(),self.parallaxImg(),self.interactiveBackgroundImg(),self.initVideoBackground(),self.videoBackgroundSize(),self.fitVideo(),self.commentRespond(),self.wpml_menu(),self.nav(),self.initialMenuArray(),self.updateMenuOnActiveSection(),self.epico_carousel(),self.shortcodeAnimation(),self.ajaxify_search(),self.minPageHeightSet(),self.product_detail_height(),self.product_thumbnails(),self.addToCartEvents(),self.woocommerce_filter(),self.runIsotopeInProducts(),self.single_product2_slider(),self.products_infoOnclick(),self.single_product2_scrollbar(),self.woocommerce_cats(),self.product_tabs(),self.product_variation(),self.product_quickview(),self.product_image_zoom(),self.product_hover(),self.product_quantity(),self.wishlist_widget_update(),self.wishlist_button(),self.card_widget_update(),self.sync_fixed_add_to_cart(),self.fixed_add_to_cart_functionality(),self.product_next_prev_button(),self.wishlist_remove(),self.woocommerce_ajax_wrapper(),self.disable_price_slider_keydown_event(),self.search_box_toggle(),self.initSelectElements(),self.woocommerce_variation_attributes(),self.product_size_guide(),self.show_more_tag(),$("#fullScreenSlider").length&&setTimeout(function(){self.fullScreenSliderInit(),self.fullScreenSlider()},600),$("#fullScreenImage").length&&setTimeout(function(){self.fullScreenImageInit()},600),self.mobileNavigation(),self.togglesidebar(),self.togglesidebar_scrollbar(),self.toggle_sidebar_menu(),self.coveringLevelVerticalMenu(),self.addToCart(),self.addToCart_variation_group(),self.epico_topbar(),self.epico_additionalScript(),self.epico_scrolling(),self.social_share_pop_up(),self.contactform7(),self.remove_footer_creative_portfolio_detail(),self.remove_left_right_menu_creative_portfolio_detail(),self.portfolio_detail_title(),self.search_form(),$("#googleMap").length&&self.googleMap(),self.scrollToTopButton(),self.headerTransformation(),self.compare(),self.preloader_hide(),self.instagramAnimation(),self.getScrollBarWidth(),self.lazyLoadOnHover(),self.wc_notices(),self.disable_djax_on_cart_page(),self.update_widget_cart_on_cart_page(),self.sliderParallax(),self.customTitleParallax(),self.portfolio_detail_header_parallax(),self.fixed_add_to_cart_visibility(),$(".woocommerce-checkout,.woocommerce-cart").length||($(".woocommerce-error").insertAfter("#epHeader"),$(".woocommerce-error li:first").before('<a class="remove_error_message" href="#"></a>')),$(".woocommerce-error .remove_error_message").on("click",function(e){e.preventDefault(),$(".woocommerce-error").remove()})},bind:function(){var self=this;self.$window.scroll(function(){self.updateMenuOnActiveSection()}),self.$window.resize(function(){self.update_doc_height(),self.update_win_dimension(),self.product_detail_height(),$("#fullScreenSlider").length&&self.fullScreenSliderInit(),$("#fullScreenImage").length&&self.fullScreenImageInit(),self.fullWidthSection(),self.homeHeight(),self.minPageHeightSet(),$(".blogAccordion").each(function(){var postVar=self.blogToggleArray($(this));self.blogToggleSet(postVar)}),self.nav(),self.portfolioIsotope(1),self.runIsotopeInProducts(),self.videoBackgroundSize(),self.mobileNavigationContainerHeight(),self.showcase_height(),self.set_margin_creative_portfolio_detail(),self.epico_blogMasonry(),$(".carousel").length>0&&(clearTimeout(self.resizeId),self.resizeId=setTimeout(function(){self.updateCarousel()},300))})},update_doc_height:function(){var self=this;self.documentHeight=Math.max(self.$document.height(),self.windowHeight,document.documentElement.clientHeight),self.$window.trigger("document-height-changed")},update_win_dimension:function(){var self=this;self.windowHeight=self.$window.height(),self.windowWidth=self.$window.width()},product_detail_height:function(){var self=this,topSpace=self.pageTopSpace();self.windowHeight<=1e3&&$(".woocommerce div.product.pd_background .product-detail-bg").css("min-height",self.windowHeight-topSpace),$("div.product.pd_top").length<=0||(topSpace+=60,$("#product-thumbs").length>0&&(topSpace+=100),$(".woocommerce div.product.pd_top div.images img").css("max-height",self.windowHeight-topSpace))},show_more_tag:function(){if(!($(".widget_product_tag_cloud .tagcloud").length<=0)){$(".widget_product_tag_cloud .tagcloud").height()>80&&($(".widget_product_tag_cloud").addClass("collapse"),$(".widget_product_tag_cloud .tagcloud").after("<span class='show_more_tags'>Show More</span>")),$(".widget_product_tag_cloud .show_more_tags").on("click",function(e){e.preventDefault(),$(".widget_product_tag_cloud").removeClass("collapse")})}},product_size_guide:function(){var self=this;if(self.$body.hasClass("single-product")){var $size_guide_modal=self.$document.find("#ep-modal"),$size_guide_content=($size_guide_modal.find(".modal-content-wrapper"),$size_guide_modal.find("#modal-content"));$size_guide_modal.length<=0||$("#ct_size_guide").length<=0||$("#ct_size_guide").hasClass("ct_sg_tabbed")||($('.button_sg,a[href="#ct_size_guide"]').on("click",function(e){e.preventDefault();$(this);$size_guide_modal.addClass("hidden-nav"),self.$body.addClass("modal-open"),$size_guide_modal.addClass("size-guide-modal"),$size_guide_modal.removeClass("closed").hasClass("open")||$size_guide_modal.removeClass("loading").addClass("open");var $data=$("#ct_size_guide").removeClass("mfp-hide");$size_guide_content.html($data),$size_guide_modal.addClass("shown").prepend('<div class="mfp-bg"></div>')}),$size_guide_modal.on("click",function(e){$size_guide_content.is(e.target)||0!==$size_guide_content.has(e.target).length||self.close_size_guide()}),self.$document.on("click","#ep-modal.size-guide-modal #modal-close",function(e){e.preventDefault(),self.close_size_guide()}),self.$document.keyup(function(e){27===e.keyCode&&self.close_size_guide()}))}},close_size_guide:function(){var self=this,$size_guide_modal=self.$document.find("#ep-modal.size-guide-modal"),$size_guide_content=$size_guide_modal.find("#modal-content");$size_guide_modal.removeClass("shown loading open").addClass("closed"),setTimeout(function(){self.$body.removeClass("modal-open"),$size_guide_modal.removeClass("size-guide-modal")},300),setTimeout(function(){var $data=$size_guide_content.html();$("#main").append($data),$("#ct_size_guide").addClass("mfp-hide"),$size_guide_content.html(""),$size_guide_modal.find(".mfp-bg").remove()},800)},reInitVariation:function($container){var $form_variation=$container.find(".variations_form");$form_variation.length>0&&($form_variation.wc_variation_form().find(".variations select:eq(0)").change(),$form_variation.trigger("check_variations"))},initSelectElements:function(Action){0!=$(".woocommerce").length&&($(".woocommerce-ordering .orderby").niceSelect(Action),$("form.cart ul.variations select").not(".hide-attr-select").niceSelect(Action)),$("section.shipping-calculator-form select, .widget_archive select, .widget_categories select.postform, .widget_product_categories select.dropdown_product_cat,.widget_layered_nav select,.widget select").niceSelect(Action),$(".widget_product_categories select.dropdown_product_cat,select.dropdown_layered_nav").niceSelect()},woocommerce_variation_img_attributes:function(){setTimeout(function(){$("form.cart").find(".variations select").each(function(index,el){var $select=$(this),$image_attr=$select.siblings(".image-attr"),attr_values=new Array;$select.find("option").each(function(){attr_values.push($(this).val())}),$image_attr.find("div.swiper-slide").removeClass("active"),$image_attr.length&&$.each(attr_values,function(){""!=this&&$image_attr.find("div[data-value="+this+"]").addClass("active")}),$image_attr.find(".swiper-slide:not(.active)").addClass("deactive"),$("form.cart .variations select").not(".hide-attr-select").niceSelect("update")})},200)},woocommerce_variation_attributes_trigger:function(){var self=this;$("form.cart .variations select").length<=0||self.$body.trigger("update_variation_values")},woocommerce_variation_attributes:function(){var self=this;if(!($("form.cart .variations select").length<=0)){self.$body.unbind("update_variation_values",self.woocommerce_variation_img_attributes),self.$body.on("update_variation_values",self.woocommerce_variation_img_attributes);var $attr_container=$(".woocommerce form.cart .variations .attr-container"),$attr_slides=$attr_container.find(".swiper-slide");if($attr_slides.length>5){var $next_button=$attr_container.find(".swiper-button-next"),$prev_button=$attr_container.find(".swiper-button-prev");new Swiper(".woocommerce form.cart .variations .swiper-container",{speed:400,longSwipesMs:300,touchAngle:90,grabCursor:!0,touchRatio:3,slidesPerView:5,followFinger:!1,preventClicks:!1,slideToClickedSlide:!0,spaceBetween:0,centeredSlides:!1,nextButton:$next_button,prevButton:$prev_button})}else $("div.product").hasClass("pd_top")&&$attr_container.addClass("centered");$attr_slides.on("click",function(){$(this).hasClass("active")&&($attr_slides.removeClass("selected"),$(this).addClass("selected"));var $term=$(this).data("value");$attr_container.siblings("select").find('option[value="'+$term+'"]').prop("selected",!0),$attr_container.siblings("select").trigger("change"),$attr_container.closest(".value").siblings("span.image-label").find("span.attr-value").html($term)}),$("form.variations_form").length&&($("form.variations_form").siblings(".yith-wcwl-add-to-wishlist").length&&$(".single_variation_wrap a.single_add_to_cart_button").after($(".yith-wcwl-add-to-wishlist").eq(0)),$(".yith-wcwl-add-to-wishlist").css("visibility","visible")),$(document.body).on("click",".reset_variations",function(event){$attr_slides.removeClass("selected deactive"),$(".nice-select").each(function(){var $this=$(this);$this.find(".list li").removeClass("selected");var $chooseAnoptionText=$this.find(".list li:first-child").text();$this.find(".current").html($chooseAnoptionText)})})}},product_quantity:function(){this.$document.on("click",".quantity .quantity-button",function(){var $button=$(this),$quantityInput=$(this).siblings('.woocommerce .quantity input[type="number"]'),oldValue=$quantityInput.val();if($button.hasClass("plus"))newVal=parseFloat(oldValue)+1;else if(oldValue>0)var newVal=parseFloat(oldValue)-1;else newVal=0;$quantityInput.val(newVal).trigger("change")}),$(document).on("change",'.woocommerce .quantity input[type="number"]',function(){$(this).parent(".quantity").siblings(".add_to_cart_button").attr("data-quantity",$(this).val())})},product_tabs:function(){var self=this,ratingInitCount=1;if("undefined"==typeof wc_single_product_params)return!1;$("body").on("init",".wc-tabs-wrapper, .woocommerce-tabs",function(){$(".wc-tab, .woocommerce-tabs .panel:not(.panel .panel)").hide();var hash=window.location.hash,url=window.location.href,$tabs=$(this).find(".wc-tabs, ul.tabs").first();hash.toLowerCase().indexOf("comment-")>=0||"#reviews"===hash||"#tab-reviews"===hash?$tabs.find("li.reviews_tab a").click():url.indexOf("comment-page-")>0||url.indexOf("cpage=")>0?$tabs.find("li.reviews_tab a").click():$tabs.find("li:first a").click()}).on("click",".wc-tabs li a, ul.tabs li a",function(){var $this=$(this),$currentPanelID=$this.attr("href"),$currentPanel=$(".woocommerce-tabs").find($currentPanelID),$visiblePanel=$currentPanel.siblings(".panel").filter(":visible");return $this.parent().siblings().removeClass("active").end().addClass("active"),$visiblePanel.length<=0?$currentPanel.addClass("current").fadeIn(300,function(){self.update_doc_height()}):$visiblePanel.stop().fadeOut(300,function(){$currentPanel.siblings(".panel").removeClass("current"),$currentPanel.addClass("current").stop().fadeIn(300,function(){self.update_doc_height()})}),!1}).on("click","a.woocommerce-review-link",function(){return $(".reviews_tab a").click(),!0}).on("init","#rating",function(){1==ratingInitCount&&($("#rating").hide().before('<p class="stars review_rating"><span><a class="star-1" href="#">1</a><a class="star-2" href="#">2</a><a class="star-3" href="#">3</a><a class="star-4" href="#">4</a><a class="star-5" href="#">5</a></span></p>'),ratingInitCount++)}).on("click","#respond p.stars a",function(){var $star=$(this),$rating=$(this).closest("#respond").find("#rating"),$container=$(this).closest(".stars");return $rating.val($star.text()),$star.siblings("a").removeClass("active"),$star.addClass("active"),$container.addClass("selected"),!1}).on("click","#respond #submit",function(){var $rating=$(this).closest("#respond").find("#rating"),rating=$rating.val();if($rating.length>0&&!rating&&"yes"===wc_single_product_params.review_rating_required)return window.alert(wc_single_product_params.i18n_required_rating_text),!1}),1===ratingInitCount&&($(".wc-tabs-wrapper, .woocommerce-tabs, #rating").trigger("init"),ratingInitCount++)},woocommerce_cats:function(){var self=this;$(".product-category a").length<=0||self.epico_interactive_background($(".product-category a"))},qucikviewdescription_scroolbar:function(){this.epico_scrollbar("#ep-modal.quickview-modal div.summary .woocommerce-product-details__short-description")},product_quickview:function(){var self=this,$quickview_modal=self.$document.find("#ep-modal"),$quickview_wrapper=$quickview_modal.find(".modal-content-wrapper"),$quickview_content=$quickview_modal.find("#modal-content"),$quickview_next=$quickview_modal.find('a[rel="next"]'),$quickview_prev=$quickview_modal.find('a[rel="prev"]'),$items=$("ul.products li.product");$quickview_modal.length<=0||($(".quick-view-button").on("click",function(e){e.preventDefault();var $this=$(this),$product_id=$this.data("product_id");$this.closest("li.product").addClass("qv-active"),setTimeout(function(){var $next_item=$items.filter(".qv-active").next("li.product"),$prev_item=$items.filter(".qv-active").prev("li.product");if($next_item.length<=0&&($next_item=$items.eq(0)),$prev_item.length<=0&&($prev_item=$items.eq($items.length-1)),$this.closest(".products").find("li.product").length<=1)$quickview_modal.addClass("hidden-nav");else if(self.windowWidth>767){$quickview_next.find("img").remove(),$quickview_prev.find("img").remove();var $next_img=$next_item.find("img").eq(0).clone(),$prev_img=$prev_item.find("img").eq(0).clone();$next_img.insertAfter($quickview_next.find("span")),$prev_img.insertAfter($quickview_prev.find("span"))}},400),self.$body.addClass("modal-open"),$quickview_modal.addClass("quickview-modal"),$quickview_modal.removeClass("closed").hasClass("open")||$quickview_modal.removeClass("loading").addClass("open");var ajaxurl,data={product_id:$product_id};"undefined"!=typeof wc_add_to_cart_params?ajaxurl=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","load_quick_view"):(ajaxurl=epico_theme_vars.ajax_url,data.action="load_quick_view"),$.ajax({url:ajaxurl,type:"POST",data:data,dataType:"html",cache:!1,headers:{"cache-control":"no-cache"},success:function(data){$quickview_content.html(data),$quickview_modal.addClass("shown"),setTimeout(function(){self.product_thumbnails($quickview_content,!0)},200),self.initSelectElements(),self.woocommerce_variation_attributes(),self.woocommerce_variation_attributes_trigger(),self.reInitVariation($quickview_content),self.qucikviewdescription_scroolbar(),self.addToCart()}})}),$quickview_modal.on("click",function(e){$quickview_wrapper.is(e.target)||0!==$quickview_wrapper.has(e.target).length||$quickview_next.is(e.target)||0!==$quickview_next.has(e.target).length||$quickview_prev.is(e.target)||0!==$quickview_prev.has(e.target).length||self.close_quick_view()}),self.$document.on("click","#ep-modal.quickview-modal #modal-close",function(e){e.preventDefault(),self.close_quick_view()}),self.$document.keyup(function(e){27===e.keyCode&&self.close_quick_view()}),$quickview_next.on("click",function(){var $next_item=$items.filter(".qv-active").next("li.product");$next_item.length<=0&&($next_item=$items.eq(0)),$quickview_modal.removeClass("shown"),$items.filter(".qv-active").removeClass("qv-active"),$next_item.find("a.quick-view-button").trigger("click")}),$quickview_prev.on("click",function(){var $prev_item=$items.filter(".qv-active").prev("li.product");$prev_item.length<=0&&($prev_item=$items.eq($items.length-1)),$quickview_modal.removeClass("shown"),$items.filter(".qv-active").removeClass("qv-active"),$prev_item.find("a.quick-view-button").trigger("click")}))},close_quick_view:function(){var self=this,$quickview_modal=self.$document.find("#ep-modal.quickview-modal"),$quickview_content=$quickview_modal.find("#modal-content");$quickview_modal.removeClass("shown loading open").addClass("closed"),$("li.product.qv-active").removeClass("qv-active"),setTimeout(function(){self.$body.removeClass("modal-open"),$quickview_modal.removeClass("quickview-modal")},300),setTimeout(function(){$quickview_content.html("")},800)},product_variation:function(){var self=this;$("form.variations_form").length<=0||$("#product-fullview-thumbs .swiper-container").length<=0||($.fn.wc_variations_image_update=function(variation){if(variation&&variation.image.url&&variation.image.url.length>1){var index=$("#product-fullview-thumbs").find('.swiper-slide[data-variableimageurl^="'+variation.image.url+'"]').data("slide"),$image_slider=$("#product-fullview-thumbs .swiper-container")[0].swiper;if(index==undefined&&(index=0),"undefined"==$image_slider)return;self.windowWidth<768&&(index+=1),$image_slider.slideTo(index),$("#product-thumbs").add($("#product-fullview-thumbs")).addClass("stop-by-variations"),$image_slider.stopAutoplay()}})},disable_djax_on_cart_page:function(){var self=this;if(self.$body.hasClass("woocommerce-cart")&&self.$body.hasClass("ajax_page_transition")){var removeDjax=function(){$(".woocommerce-cart-form .cart_item a.remove").addClass("no_djax")};removeDjax(),$(document).on("updated_wc_div",removeDjax)}},card_widget_update:function(){var self=this;$(".mini_cart_item a.remove").addClass("no_djax"),self.$document.off("click",".mini_cart_item a.remove").addClass("no_djax"),self.$document.on("click",".mini_cart_item a.remove",function(e){e.preventDefault();var $this=$(this),$productKey=$(this).data("item-key");$this.closest("li").addClass("loading"),$this.siblings(".wc-loading").removeClass("hide"),$.ajax({url:epico_theme_vars.ajax_url,dataType:"json",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:{action:"cart_remove_item",item_key:$productKey},success:function(response){"1"===response.status&&($this.siblings(".wc-loading").addClass("hide"),$this.addClass("removed").closest("li").addClass("removed").removeClass("loading"),$(".cartContentsCount").html(response.cart_count),0==response.cart_count?$(".product_list_widget").each(function(){$(".cart-bottom-box").addClass("hide")}):$(".cart-bottom-box .amount").html($(response.cart_subtotal).html())),setTimeout(function(){$this.closest("li").hasClass("removed")&&($this.closest("li").find(".undo").hide("slow"),self.$body.hasClass("woocommerce-cart")&&$(document).trigger("wc_update_cart"))},3100),setTimeout(function(){$this.hasClass("removed")&&$this.closest("li").addClass("removed_completly")},3500),$(document).trigger("wc_cart_updated")}})});$(document).ajaxComplete(function(event,xhr,settings){settings.url.indexOf("undo_item")>0&&setTimeout(function(){$(document.body).trigger("wc_fragment_refresh")},50)}),$(".mini_cart_item a.undo").addClass("no_djax"),self.$document.off("click",".mini_cart_item a.undo"),self.$document.on("click",".mini_cart_item a.undo",function(e){e.preventDefault();var $this=$(this),$product_key=$(this).data("item-key");$this.closest("li").removeClass("removed").addClass("loading"),$this.siblings("a.remove").removeClass("removed"),$this.siblings(".wc-loading").removeClass("hide"),$.ajax({url:epico_theme_vars.ajax_url,dataType:"json",type:"POST",cache:!1,headers:{"cache-control":"no-cache"},data:{action:"undo_removed_item",item_key:$product_key},success:function(response){"1"===response.status&&($this.siblings(".remove").removeClass("removed").end().closest("li").removeClass("removed loading"),$this.siblings(".wc-loading").addClass("hide"),$(".cartContentsCount").html(response.cart_count),$(".cart-bottom-box .amount").html($(response.cart_subtotal).html()),$(".cart-bottom-box").removeClass("hide"),self.$body.hasClass("woocommerce-cart")&&$(document).trigger("wc_update_cart"),$(document).trigger("wc_cart_updated"))}})})},wishlist_widget_update:function(){var self=this;self.$body.on("added_to_wishlist removed_from_wishlist",function(){$.ajax({url:epico_theme_vars.ajax_url,data:{action:"get_wishlist_quantity",security:epico_theme_vars.nonce},method:"GET",success:function(data){$(".widget_woocommerce-wishlist a span.wishlist_items_number").html(data.wishlist_count_products)}});var $clicked_add_to_wishlist=self.$document.find(".add_to_wishlist.adding");$clicked_add_to_wishlist.find(".wc-loading").addClass("hide"),$clicked_add_to_wishlist.fadeOut(400).siblings(".wishlist-link").fadeIn(400),self.addToCart(),self.minPageHeightSet()})},wishlist_button:function(){this.$document.on("click",".add_to_wishlist",function(){$(this).hasClass("shop_wishlist_button")&&$(this).addClass("adding").find(".wc-loading").removeClass("hide")})},wishlist_remove:function(){this.$document.on("click",".remove_from_wishlist",function(e){e.preventDefault(),$(this).addClass("show-loading").find(".wc-loading").removeClass("hide")})},layer_nav_ajax_dropdown:function(){$(".dropdown_layered_nav").change(function(){var $slug=jQuery(this).val(),$filtername=jQuery(this).closest("select").attr("data-filtername"),url=window.location.href;url+=$slug="?filter_"+$filtername+"="+$slug,location.href=url})},disable_price_slider_keydown_event:function(){$(".widget_price_filter").on("click",function(){$(this).find(".ui-slider-handle").unbind("keydown")})},price_slider_filter:function(){if(!$(".woocommerce-page").length)return 0;var price_slider=function(){$("input#min_price, input#max_price").hide(),$(".price_slider, .price_label").show();var min_price=$(".price_slider_amount #min_price").data("min"),max_price=$(".price_slider_amount #max_price").data("max"),current_min_price=parseInt(min_price,10),current_max_price=parseInt(max_price,10);$(".price_slider_amount #min_price").val()&&(current_min_price=parseInt($(".price_slider_amount #min_price").val(),10)),$(".price_slider_amount #max_price").val()&&(current_max_price=parseInt($(".price_slider_amount #max_price").val(),10)),$(document.body).bind("price_slider_create price_slider_slide",function(event,min,max){"left"===woocommerce_price_slider_params.currency_pos?($(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+min),$(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+max)):"left_space"===woocommerce_price_slider_params.currency_pos?($(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+min),$(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+max)):"right"===woocommerce_price_slider_params.currency_pos?($(".price_slider_amount span.from").html(min+woocommerce_price_slider_params.currency_symbol),$(".price_slider_amount span.to").html(max+woocommerce_price_slider_params.currency_symbol)):"right_space"===woocommerce_price_slider_params.currency_pos&&($(".price_slider_amount span.from").html(min+" "+woocommerce_price_slider_params.currency_symbol),$(".price_slider_amount span.to").html(max+" "+woocommerce_price_slider_params.currency_symbol)),$(document.body).trigger("price_slider_updated",[min,max])}),$(".price_slider").slider({range:!0,animate:!0,min:min_price,max:max_price,values:[current_min_price,current_max_price],create:function(){$(".price_slider_amount #min_price").val(current_min_price),$(".price_slider_amount #max_price").val(current_max_price),$(document.body).trigger("price_slider_create",[current_min_price,current_max_price])},slide:function(event,ui){$("input#min_price").val(ui.values[0]),$("input#max_price").val(ui.values[1]),$(document.body).trigger("price_slider_slide",[ui.values[0],ui.values[1]])},change:function(event,ui){$(document.body).trigger("price_slider_change",[ui.values[0],ui.values[1]])}})};if("undefined"==typeof woocommerce_price_slider_params)return!1;void 0!==$.fn.slider?price_slider():setTimeout(function(){void 0!==$.fn.slider&&price_slider()},1e3)},product_image_zoom:function(){if(!(this.windowWidth<=979))$(".easyzoom").easyZoom()},product_hover:function(){var self=this;$(".woocommerce").length<=0||$("ul.products li.product span.product-button").each(function(){var $product=$(this).closest("li.product"),$buttons_container=$(this).closest(".product-buttons");$(this).closest(".woocommerce");$product.hasClass("single-product-shortcode")||($(this).find(".product_type_simple").on("click",function(){$product.addClass("disable-hover")}),self.isTouchDevice?$product.addClass("disable-hover"):($(this).mouseenter(function(){$product.addClass("add-to-cart-hovered")}),$buttons_container.mouseleave(function(){$product.removeClass("add-to-cart-hovered")})))})},product_thumbnails:function($target,isQuickview){var self=this;$target===undefined&&($target=self.$body);var $thumbnails=$target.find("#product-thumbs");if($thumbnails.length>0){var $fullview=$target.find("#product-fullview-thumbs"),$thumbnailSlides=$thumbnails.find(".swiper-slide"),slidesNum=$thumbnailSlides.length,visibleNum=3,$productThumbContainer=$thumbnails.find(".swiper-container"),$productThumbWraper=$thumbnails.find(".swiper-wrapper"),$productimageContainer=$fullview.find(".swiper-container"),direction="vertical",productDetail="classic";if(isQuickview||($("#main div.pd_top").length?productDetail="top":$("#main div.pd_classic_sidebar").length?productDetail="classic_sidebar":$("#main div.pd_ep_classic").length?productDetail="ep_classic":$("#main div.pd_classic").length&&(productDetail="classic")),self.windowWidth>979){isQuickview||"top"==productDetail||"classic_sidebar"==productDetail?(direction="horizontal",slidesNum<=2&&$productThumbContainer.css({width:($thumbnailSlides.outerWidth()+10)*slidesNum,margin:"0 auto"}),$productThumbWraper.css("width",($thumbnailSlides.outerWidth()+10)*slidesNum)):$productThumbWraper.css("height",($thumbnailSlides.outerHeight()+10)*slidesNum),"top"==productDetail?visibleNum=7:"ep_classic"!=productDetail&&"classic"!=productDetail||(visibleNum=5),isQuickview&&(visibleNum=3);var $productFullviewSwiper=$productimageContainer[0].swiper,$productThumbsSwiper=new Swiper($productThumbContainer,{speed:700,longSwipesMs:800,touchAngle:90,grabCursor:!0,touchRatio:3,slidesPerView:"auto",preventClicks:!1,slideToClickedSlide:!0,spaceBetween:10,direction:direction,centeredSlides:!0,preloadImages:!1,lazyLoading:!0,onInit:function(){slidesNum>visibleNum&&$thumbnails.addClass("initial-slides-position")},onSetTranslate:function(swiper,translate){swiper.activeIndex<visibleNum-1&&($productThumbWraper.css("transform","translate3d(0px, 0px, 0px)"),$productThumbWraper.css("-webkit-transform","translate3d(0px, 0px, 0px)"))},onSlideChangeStart:function(swiper){"undefined"!==$productFullviewSwiper&&$productFullviewSwiper.slideTo(swiper.activeIndex)}})}var isLoop=!1,slider_speed=600,$nextbtn=$productimageContainer.find(".swiper-button-next"),$prevbtn=$productimageContainer.find(".swiper-button-prev");self.windowWidth<768&&(isLoop=!0),"top"==productDetail&&(slider_speed=800);var $productThumbsFullviewSwiper=new Swiper($productimageContainer,{autoplay:6500,autoplayDisableOnInteraction:!1,speed:slider_speed,longSwipesMs:700,touchAngle:30,loop:isLoop,spaceBetween:0,followFinger:!0,nextButton:$nextbtn,prevButton:$prevbtn,onSlideChangeStart:function(swiper){self.windowWidth>979&&!self.isTouchDevice&&(swiper.isBeginning||$productThumbsSwiper.slideTo(swiper.activeIndex))},onReachBeginning:function(swiper){self.windowWidth>979&&!self.isTouchDevice&&$productThumbsSwiper.slideTo(0)}});$productFullviewSwiper=$productThumbsFullviewSwiper,self.windowWidth>979&&!self.isTouchDevice&&($productimageContainer.hover(function(){$productThumbsFullviewSwiper.stopAutoplay()},function(){$productThumbsFullviewSwiper.startAutoplay()}),$thumbnails.add($fullview).on("click",function(){$(this).hasClass("stop-by-variations")&&($productThumbsFullviewSwiper.startAutoplay(),$thumbnails.add($fullview).removeClass("stop-by-variations"))}))}},products_infoOnclick:function(){var self=this;if(!($("ul.infoOnClick").length<=0)){var $container=$("ul.infoOnClick li");$container.find("span.show-hover").on("click",function(){var $product_Id=$(this).parents("li.product").attr("data-productid");$product_Id=$("li.product[data-productid ="+$product_Id+"]"),$(this).parents("ul.products").find($product_Id).find("span.show-hover").toggleClass("show").closest("li").toggleClass("show-hover-content")}),self.epico_scrollbar($container.find(".woocommerce-product-details__short-description"))}},single_product2_slider:function(){var self=this;if(!($("div.woocommerce.single-product2").length<=0)){var $container=$("div.woocommerce.single-product2");new Swiper("div.woocommerce.single-product2 .swiper-container",{speed:600,longSwipesMs:700,touchAngle:30,loop:!0,spaceBetween:0,followFinger:!1,preloadImages:!1,lazyLoading:!0});setTimeout(function(){$container.find(".swiper-slide-duplicate.lazy-load-on-load").removeClass("is-loading"),self.lazyLoadOnLoad($container)},500),$container.find(".swiper-button-next").bind("click",function(e){e.preventDefault(),"function"==typeof $(this).closest(".swiper-container")[0].swiper.slideNext&&$(this).closest(".swiper-container")[0].swiper.slideNext()}),$container.find(".swiper-button-prev").bind("click",function(e){e.preventDefault(),"function"==typeof $(this).closest(".swiper-container")[0].swiper.slidePrev&&$(this).closest(".swiper-container")[0].swiper.slidePrev()})}},single_product2_scrollbar:function(){this.epico_scrollbar("div.woocommerce.single-product2 > ul.products li.product .description")},epico_carousel:function($container){var $carousel,self=this;($carousel=$container===undefined?$(".carousel"):$container.find(".carousel")).length<=0||($carousel.parents(".fullWidth").find(".vc_col-sm-12").css({"padding-right":"0px","padding-left":"0px"}),$carousel.each(function(){var $this=$(this),$container=$this.find(".products"),wc_shortcode_with_border=$this.find("li").hasClass("with-border"),set_visible_number=parseInt($this.find(".swiper-container").attr("data-visibleitems")),visibleItems=1,loopSlideNum=(visibleItems=self.getVisibleItemNum($this,set_visible_number))+1,gutter=20,slideClass="swiper-slide",autoplay=0;"on"==$this.data("autoplay")&&(autoplay=5e3),$this.hasClass("wc-shortcode")?(($this.hasClass("no-gutter")||1==visibleItems)&&(gutter=0),slideClass="product",autoplay=0,"on"==$this.data("autoplay")&&(autoplay=3e3)):$this.hasClass("instagram-carousel")?(gutter=$this.hasClass("no-gutter")?0:10,slideClass="insta-media",autoplay=0):gutter=$this.hasClass("no-gutter")?0:10;var $loop=!0;$this.find(".swiper-container").parent().hasClass("gallery_carousel")&&($loop=!1);new Swiper($this.find(".swiper-container"),{autoplay:autoplay,touchAngle:45,speed:600,longSwipesMs:800,loop:$loop,slidesPerView:visibleItems,loopedSlides:loopSlideNum,autoplayDisableOnInteraction:!1,slideClass:slideClass,spaceBetween:gutter,watchSlidesVisibility:!0,roundLengths:!1,preloadImages:!1,onInit:function(){$container.length?(self.showAnimation($container,1),self.setCarouselItemsWidth($this,visibleItems,gutter)):self.showAnimation($this,2),$this.find(".arrows-button-next,.arrows-button-prev").css("opacity",1)},onSlideChangeEnd:function(swiper){$this.hasClass("wc-shortcode")?self.showAnimation($container,1):$this.hasClass("instagram-carousel")?self.showAnimation($this,3):self.showAnimation($this,2)},onAutoplayStop:function(swiper){0!=autoplay&&swiper.startAutoplay()},onTouchEnd:function(swiper){$this.hasClass("wc-shortcode")&&self.showAnimation($container,1),$this.hasClass("instagram-carousel")?self.showAnimation($this,3):self.showAnimation($this,2)},onTransitionStart:function(swiper){if($this.hasClass("wc-shortcode")&&wc_shortcode_with_border){$this.find("li.last-visible-item").removeClass("last-visible-item");$this.find(".swiper-slide-visible").last().addClass("last-visible-item")}}});setTimeout(function(){$this.find(".swiper-slide-duplicate .lazy-load-on-load").removeClass("is-loading"),self.lazyLoadOnLoad($this.find(".swiper-slide-duplicate"))},500)}),$carousel.find(".arrows-button-next").bind("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).siblings(".swiper-container")[0].swiper.slideNext()}),$carousel.find(".arrows-button-prev").bind("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).siblings(".swiper-container")[0].swiper.slidePrev()}))},setCarouselItemsWidth:function($container,visibleItems,gutter){var self=this;$container.find("li.product").css("width","");var carouselWidth=$container.outerWidth(),width=0;self.windowWidth<=1140&&(visibleItems>3&&(visibleItems=3),self.windowWidth<=979&&(visibleItems>=2&&(visibleItems=2),self.windowWidth<=767&&(visibleItems=1))),width=function(number){return parseFloat(number).toPrecision(12)}((carouselWidth-=gutter*(visibleItems-1))/visibleItems),$container.find("li.product").css("cssText","width:"+width+"px !important")},getVisibleItemNum:function($container,visibleItems){var self=this;return $container.hasClass("wc-shortcode")?self.windowWidth<=1140&&(visibleItems>3&&(visibleItems=3),self.windowWidth<=979&&(visibleItems>=2&&(visibleItems=2),self.windowWidth<=767&&(visibleItems=1))):self.windowWidth<=979&&(visibleItems>3&&(visibleItems=3),self.windowWidth<=767&&(visibleItems>=2&&(visibleItems=2),self.windowWidth<=480&&(visibleItems=1))),visibleItems},updateCarousel:function(){var self=this;$(".carousel").each(function(){var $this=$(this),$swiperContainer=$this.find(".swiper-container");if($swiperContainer[0].swiper!=undefined){var visibleItems=self.getVisibleItemNum($this,$swiperContainer.attr("data-visibleitems"));if($swiperContainer[0].swiper.params.slidesPerView=visibleItems,$swiperContainer[0].swiper.params.loopedSlides=visibleItems+1,$this.hasClass("wc-shortcode")){var gutter=20;($this.hasClass("no-gutter")||1==visibleItems)&&(gutter=0),$swiperContainer[0].swiper.update(!0),self.setCarouselItemsWidth($this,visibleItems,gutter),self.showAnimation($this.find(".products"),1)}else self.showAnimation($this,2)}})},progressbar:function(){var self=this,$progressbar=$(".progress_bar:not(.shortcodeAnimation), .progress_bar.shortcodeAnimation.no-responsive-animation");$progressbar.length&&self.progressbarAnimate($progressbar)},progressbarAnimate:function($element){$element.each(function(){var $this=$(this),percentage=$this.find(".progressbar_percent").data("percentage");$this.find(".progress_percent_value").addClass("complete"),$this.find(".progressbar_percent").css("width",percentage+"%")})},piechart:function(){var self=this,$pieChartBox=$(".pieChartBox:not(.shortcodeAnimation), .pieChartBox.shortcodeAnimation.no-responsive-animation");$pieChartBox.length&&self.piechartAnimate($pieChartBox)},piechartAnimate:function($element){var animation=!1;this.windowWidth>1140&&(animation={duration:2500,enabled:!0});var $dot=$element.find(".dot-container");$element.each(function(){var $this=$(this);if($this.find(".easyPieChart").easyPieChart({scaleColor:!1,barColor:$this.attr("data-barColor"),lineWidth:2,trackColor:"rgba(0,0,0,0)",lineCap:"round",easing:"easeOutQuint",animate:animation,size:145,onStep:function(from,to,percent){$dot.css({transform:"rotate("+(3.6*percent+6)+"deg)"})}}),0==animation){var percent=$this.find(".easyPieChart").data("percent");$dot.css({transform:"rotate("+(3.6*percent+6)+"deg)"})}})},countdown:function(){$(".countdown-timer").each(function(){var $this=$(this);if(!$this.hasClass("initiated")){$this.addClass("initiated");var updateCountDown=function(){var date=Date.parse($this.data("end"))/1e3,now=Math.floor($.now()/1e3),$day=$this.find(".days"),$hours=$this.find(".hours"),$min=$this.find(".minutes"),$second=$this.find(".seconds"),day_distance=date-now;if(day_distance>0){var day=Math.floor(day_distance/86400);day_distance-=60*day*60*24;var hours=Math.floor(day_distance/3600);day_distance-=60*hours*60;var min=Math.floor(day_distance/60);day_distance-=60*min,10>day&&(day="0"+day),10>hours&&(hours="0"+hours),10>min&&(min="0"+min),10>day_distance&&(day_distance="0"+day_distance),1>$day.length||"00"==day?$day.parent().hide():$day.text(day),$hours.text(hours),$min.text(min),$second.text(day_distance)}};setInterval(updateCountDown,1e3),updateCountDown()}})},counterBox:function(){var self=this,$counterBoxContainers=$(".counterBox:not(.shortcodeAnimation), .counterBox.shortcodeAnimation.no-responsive-animation");$counterBoxContainers.length&&self.counterBoxAnimate($counterBoxContainers)},counterBoxAnimate:function($element){$element.each(function(){var countNmber=$(this).attr("data-countNmber");$(this).find(".counterBoxNumber").countTo({from:0,to:countNmber,speed:2500,refreshInterval:10})})},shortcodeAnimation:function(){var $shortcodes,self=this,animate_shortcodes=function(item){var $this=item,$delay=$this.attr("data-delay");"none"!=$this.attr("data-animation")&&($this.css("transition-delay",$delay+"ms"),$this.addClass("do_animate"),($this.hasClass("counterBox")||$this.hasClass("pieChartBox")||$this.hasClass("progress_bar"))&&($this.hasClass("counterBox")&&self.counterBoxAnimate($this),$this.hasClass("pieChartBox")&&self.piechartAnimate($this),$this.hasClass("progress_bar")&&self.progressbarAnimate($this)))},aniamte_shortcodes_in_snap_to_scroll=function(){var $active_slide=$("div.ep-section.visible"),$inactive_slide=$("div.ep-section").not(".visible");($shortcodes=self.isMobile||self.isTablet?$active_slide.find(".shortcodeAnimation:not(.no-responsive-animation)"):$active_slide.find(".shortcodeAnimation")).each(function(){var $shortcode=$(this);animate_shortcodes($shortcode)}),$inactive_slide.find(".shortcodeAnimation").removeClass("do_animate")};!self.$body.hasClass("snap-to-scroll")||self.$body.hasClass("snap-to-scroll")&&self.windowWidth<=1140?($shortcodes=$(self.isMobile||self.isTablet?".shortcodeAnimation:not(.no-responsive-animation)":".shortcodeAnimation")).waypoint({handler:function(){var $item=$(this.element);animate_shortcodes($item),this.destroy()},offset:"90%"}):(self.$document.on("snap_to_scroll_slide_end",function(){aniamte_shortcodes_in_snap_to_scroll()}),aniamte_shortcodes_in_snap_to_scroll())},fullWidthSection:function(){var self=this,$containerWidth=$(".container").width(),$offset_block=(self.windowWidth-parseInt($containerWidth))/2;$(".fullWidth").each(function(){self.windowWidth<768?$(this).css({"margin-left":-($offset_block+60),"padding-left":$offset_block+60,"padding-right":$offset_block+60}):$(this).css({"margin-left":-$offset_block,"padding-left":$offset_block,"padding-right":$offset_block})})},tabs_tour_accordion:function(){var self=this;$(".vc_tta-tabs .vc_tta-panel:not(.vc_active) .portfolio_wrap .isotope").length>0&&$(".vc_tta-tabs .vc_tta-panel:not(.vc_active) .portfolio_wrap .isotope").removeClass("isotope"),self.tabs_tour_accordion_height(),$(".vc_tta-container .vc_tta-tabs .vc_tta-tabs-list a").addClass("no_djax").on("click",function(e){e.preventDefault();var $current_tab=$(this),$container=$current_tab.closest(".vc_tta-container"),$currentPanelID=$($current_tab.attr("href")),$previous_tab_id=$($current_tab.closest(".vc_tta-tabs-list").find(".vc_active a").attr("href"));$current_tab.closest("li").hasClass("vc_active")||($container.find(".vc_tta-tabs-list li.vc_active").removeClass("vc_active"),$current_tab.closest("li").addClass("vc_active"),$previous_tab_id.removeClass("vc_active"),$container.find(".vc_tta-panel").removeClass("show"),$currentPanelID.addClass("show"),$currentPanelID.addClass("vc_active"),fix_tab_content_scripts($currentPanelID),setTimeout(function(){self.portfolioIsotope(2)},50))}),$(".vc_tta-accordion .vc_tta-panel-heading a").on("click",function(e){e.preventDefault();var $current_tab=$(this),$container=$current_tab.closest(".vc_tta-accordion"),$active_tab_id=$($current_tab.attr("href")),$previous_tab_id=$($current_tab.closest(".vc_tta-panels").find(".vc_active a").attr("href"));if($container.hasClass("vc_tta-o-all-clickable"))$active_tab_id.toggleClass("vc_active"),$active_tab_id.find(".vc_tta-panel-body").slideToggle();else{if($active_tab_id.hasClass("vc_active"))return;$container.find(".vc_tta-panel.vc_active").removeClass("vc_active"),$active_tab_id.addClass("vc_active"),$previous_tab_id.find(".vc_tta-panel-body").slideUp(),$active_tab_id.find(".vc_tta-panel-body").slideDown()}});var fix_tab_content_scripts=function($active_tab_id){$active_tab_id.find(".products.isotope").length>0&&$active_tab_id.find(".products.isotope").isotope("destroy"),$active_tab_id.find(".portfolio_wrap .isotope").length>0&&$active_tab_id.find(".portfolio_wrap .isotope").removeClass("isotope");var $tabs_parent=$active_tab_id.closest(".vc_tta-panels");self.product_thumbnails(),self.product_variation(),self.single_product2_slider(),$tabs_parent.find(".vc_tta-tabs .vc_tta-panel:not(.vc_active) .portfolio_wrap .portfolioswiper").length&&typeof $tabs_parent.find(".vc_tta-tabs .vc_tta-panel:not(.vc_active) .portfolio_wrap .portfolioswiper")[0].swiper!=undefined&&$tabs_parent.find(".vc_tta-tabs .vc_tta-panel:not(.vc_active) .portfolio_wrap .portfolioswiper")[0].swiper.destroy(),self.portfolioSlider(),$active_tab_id.find(".portfolio_wrap").find("> div").eq(0).addClass("isotope"),self.portfolioIsotope(0),self.runIsotopeInProducts($active_tab_id),self.epico_carousel($active_tab_id),self.epico_shortcode(!0),self.products_infoOnclick(),self.tabs_tour_accordion_height()}},tabs_tour_accordion_height:function(){$(".vc_tta-container .vc_general").each(function(){var $this=$(this);if($this.hasClass("vc_tta-tabs")){var childs_height=[];$this.find(".vc_tta-panel").each(function(){childs_height.push($(this).outerHeight())}),$this.find(".vc_tta-panels").css("min-height",Math.min.apply(null,childs_height)),$this.find(".vc_tta-panel.vc_active").addClass("show")}else $this.hasClass("vc_tta-accordion")&&$this.find(".vc_tta-panel:not(.vc_active) .vc_tta-panel-body").slideUp()})},faq:function(){var $faqContainers=$(".toggle_wrap");$faqContainers.length&&$faqContainers.each(function(){var $container=$(this),$titles=$container.find(".wpb_toggle"),$contents=$container.find(".toggle_content_wrap");$container.hasClass("wpb_toggle_open")?$contents.slideDown():$contents.slideUp(),$titles.off("click").on("click",function(e){var $this=$(this);$this.toggleClass("wpb_toggle_title_active");var $parent=$this.parent();$parent.toggleClass("wpb_toggle_open"),$parent.hasClass("wpb_toggle_open")?$parent.find(".toggle_content_wrap").slideDown():$parent.find(".toggle_content_wrap").slideUp()})})},googleMap:function(){var $gmapScript,apiKey,customKey=epico_theme_vars.customApiKey;if(0!=parseInt(epico_theme_vars.ApiKey)&&""!=customKey?($gmapScript=$('script[src="https://maps.googleapis.com/maps/api/js?key='.concat(customKey).concat('&callback=gmap_draw"]')),apiKey=customKey):(apiKey="AIzaSyCp7ygrkAHm3AfCdbhVyHfaAconfYNlON4",$gmapScript=$('script[src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCp7ygrkAHm3AfCdbhVyHfaAconfYNlON4&callback=gmap_draw"]')),$gmapScript.length<=0){var s=document.createElement("script");s.type="text/javascript",s.src="https://maps.googleapis.com/maps/api/js?key=".concat(apiKey).concat("&callback=gmap_draw"),$("head").prepend(s)}else gmap_draw();window.gmap_draw=function(){"object"==typeof google&&"object"==typeof google.maps&&"function"==typeof $.fn.gmap3&&$("#googleMap").length&&($("#googleMap .section-content-container").gmap3({map:{options:{zoom:parseInt(epico_theme_vars.zoomLevel),disableDefaultUI:!0,disableDoubleClickZoom:!0,center:new google.maps.LatLng(epico_theme_vars.cityMapCenterLat,epico_theme_vars.cityMapCenterLng),draggable:!1,mapTypeControl:!0,navigationControl:!1,scrollwheel:!1,streetViewControl:!1,panControl:!1,zoomControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"Gray"]}}},styledmaptype:{id:"Gray",options:{name:"Gray"},styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#ebebeb"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#81c4de"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#a3daf1"}]},{featureType:"water",elementType:"labels.text",stylers:[{color:"#a3daf1"}]}]},marker:{values:[{latLng:[epico_theme_vars.cityMapCenterLat,epico_theme_vars.cityMapCenterLng]}],options:{icon:new google.maps.MarkerImage(epico_theme_vars.iconMap)}}}),1==parseInt(epico_theme_vars.customMap)&&$("#googleMap .section-content-container").gmap3("get").setMapTypeId("Gray"))}},nav:function(){var self=this;if(!(self.windowWidth<=1140)){self.$epHeader.attr("data-fixed");var $menuItem=$(".navigation > ul li.menu-item-has-children");$menuItem.each(function(){var $menuWrapper=$(this).find(".menu-item-wrapper"),$secondlevelItems=$menuWrapper.find("> ul > li"),$rightOffset=0;if($(this).hasClass("mega-menu-parent"))$menuWrapper.find(".special-last-child").closest(".menu-item-wrapper").addClass("has-special-last-child"),$menuWrapper.width($secondlevelItems.length*$secondlevelItems.eq(0).outerWidth()),$menuWrapper.height($menuWrapper.find("> ul").height()),$menuWrapper.css("margin-left",""),($rightOffset=self.windowWidth-($menuWrapper.offset().left+$menuWrapper.outerWidth()))<0&&$menuWrapper.css("margin-left",$rightOffset);else{var $subMenuWidth=$(this).find("> ul").eq(0).outerWidth();($rightOffset=self.windowWidth-($(this).offset().left+$subMenuWidth))<$subMenuWidth&&$(this).addClass("left-submenus")}}),$menuItem.mouseover(function(){$(this).hasClass("hover")||$(this).addClass("hover")}).mouseout(function(){$(this).removeClass("hover")})}},UpdateCurrentMenuAncestorClass:function(){this.windowWidth<=1140||($("header .navigation > ul > li").removeClass("current-menu-ancestor"),$("header .navigation > ul > li").removeClass("current-menu-item"),$("header .navigation li li ul li.active").parents(".navigation > ul > li.menu-item-has-children").addClass("current-menu-ancestor"))},fullScreenSliderInit:function(){var self=this;(self.msie>0||self.msie11)&&$("#home").css("position","static"),self.windowHeight=self.$window.height();var wpAdminBarHeight=0;$("#wpadminbar").length&&(wpAdminBarHeight=32),self.windowWidth>979?(self.windowHeight=self.windowHeight-wpAdminBarHeight,$("#home").css("height",self.windowHeight)):$("#home").css("height",""),$("#fullScreenSlider .swiper-container").css("height",self.windowHeight),$("#fullScreenSlider .caption").each(function(i){var captionHeight=0,$this=$(this);if($this.children(".caption-container").each(function(){captionHeight+=$(this).outerHeight()}),$this.hasClass("bottom")&&self.windowWidth>1140){var bottomOffset=20;$("#caption-start").length&&(bottomOffset=40),captionHeight>=self.windowHeight/3?$this.css("padding-top",self.windowHeight-captionHeight-2*bottomOffset+"px"):$this.css("padding-top",self.windowHeight/3*2-bottomOffset+"px")}else $this.css("padding-top",(self.windowHeight-captionHeight)/2+"px")}),self.homeSlideButton(),self.sliderWidth=parseInt(self.windowWidth),self.$body.hasClass("vertical_menu_enabled")&&self.windowWidth>979&&(self.sliderWidth=self.sliderWidth-$("aside.vertical_menu_area").outerWidth()),self.imagePosition=self.sliderWidth-170},fullScreenImageInit:function(){var self=this,$caption=$("#fullScreenImage .caption"),captionHeight=0;if($caption.children(".caption-container").each(function(){captionHeight+=$(this).outerHeight()}),$caption.hasClass("bottom")){var bottomOffset=20;$("#caption-start").length&&(bottomOffset=50),captionHeight>=self.windowHeight/3?$caption.css("padding-top",self.windowHeight-captionHeight-2*bottomOffset+"px"):$caption.css("padding-top",self.windowHeight/3*2-bottomOffset+"px")}else $caption.css("padding-top",(self.windowHeight-captionHeight)/2+"px");$caption.addClass("show"),self.homeSlideButton()},fullScreenSlider:function(){var $slides,$second_slide,$first_slide,$firstDuplicateSlide,$secondDuplicateSlide,firstDupslideHasVideo,secondDupslideHasVideo,self=this,$slider=$("#fullScreenSlider");if($slider.hasClass("epico")){var $slideNum=$slider.find(".swiper-slide").length+2,$initiated=!1,swiper=new Swiper("#fullScreenSlider .swiper-container",{loop:!0,speed:700,initialSlide:0,keyboardControl:!0,autoplay:4500,autoplayDisableOnInteraction:!1,effect:"fade",simulateTouch:!1,onlyExternal:!0,slidesPerView:1,onInit:function(){$initiated=!0,$slides=$slider.find(".swiper-slide"),$second_slide=$slides.eq(2),$first_slide=$slides.eq(1),$firstDuplicateSlide=$slides.filter(".swiper-slide-duplicate").eq(0),$secondDuplicateSlide=$slides.filter(".swiper-slide-duplicate").eq(1),firstDupslideHasVideo=$firstDuplicateSlide.hasClass("has-duplicate-video"),secondDupslideHasVideo=$secondDuplicateSlide.hasClass("has-duplicate-video"),$slider.find(".mejs-container").css("position","fixed"),setTimeout(function(){$slider.find(".mejs-container").css("position","relative")},10),firstDupslideHasVideo&&$firstDuplicateSlide.find(".swiper-slide-image").remove(),secondDupslideHasVideo&&$secondDuplicateSlide.find(".swiper-slide-image").remove(),1==$.browser.mozilla&&$slider.find(".swiper-wrapper").add($slides).css("top","-0.1px")},onSetTranslate:function(swiper,translate){if($initiated){$slides.filter(".swiper-slide-prev2").removeClass("swiper-slide-prev2"),$slides.filter(".swiper-slide-next2").removeClass("swiper-slide-next2"),$slides.filter(".fake-active").removeClass("fake-active"),$first_slide.removeClass("have-transition"),$slides.eq($slideNum-2).css("z-index","").removeClass("have-transition"),$secondDuplicateSlide.hasClass("swiper-slide-active")?($second_slide.hasClass("swiper-slide-prev")||($second_slide.addClass("swiper-slide-next2"),$first_slide.addClass("swiper-slide-active fake-active"),secondDupslideHasVideo&&$first_slide.addClass("have-transition")),$firstDuplicateSlide.hasClass("has-duplicate-video")||$firstDuplicateSlide.addClass("swiper-slide-prev2")):$firstDuplicateSlide.hasClass("swiper-slide-active")&&($slides.eq($slideNum-3).addClass("swiper-slide-prev2"),$slides.eq($slideNum-2).addClass("swiper-slide-active fake-active"),firstDupslideHasVideo&&$slides.eq($slideNum-2).addClass("have-transition"),secondDupslideHasVideo||$secondDuplicateSlide.addClass("swiper-slide-next2")),firstDupslideHasVideo&&($firstDuplicateSlide.hasClass("swiper-slide-prev")&&$slides.eq($slideNum-2).addClass("swiper-slide-prev2"),5==$slideNum&&$slides.eq($slideNum-3).hasClass("swiper-slide-active")&&swiper.activeIndex>swiper.previousIndex&&$slides.eq($slideNum-2).css("cssText","z-index: 1 !important;"));var $prevSlides=$slides.filter(".swiper-slide-prev,.swiper-slide-prev2"),$nextSlides=$slides.filter(".swiper-slide-next,.swiper-slide-next2");$slides.css("-webkit-transform",""),$slides.filter(".swiper-slide-duplicate.has-duplicate-video").css("transform",""),$slides.not(".swiper-slide-prev,.swiper-slide-prev2,.swiper-slide-next,.swiper-slide-next2,.swiper-slide-active,.swiper-slide-duplicate.has-duplicate-video").css("transform","matrix(1,0,0,1,"+self.sliderWidth+",0)"),$slides.not(".swiper-slide-prev,.swiper-slide-prev2,.swiper-slide-next,.swiper-slide-next2,.swiper-slide-active,.swiper-slide-duplicate.has-duplicate-video").find(".swiper-slide-image").css("transform","matrix(1,0,0,1,-"+self.imagePosition+",0)"),$prevSlides.css("transform","matrix(1,0,0,1,-"+self.sliderWidth+",0)"),$prevSlides.find(".swiper-slide-image").css("transform","matrix(1,0,0,1,"+self.imagePosition+",0)"),$nextSlides.css("transform","matrix(1,0,0,1,"+self.sliderWidth+",0)"),$nextSlides.find(".swiper-slide-image").css("transform","matrix(1,0,0,1,-"+self.imagePosition+",0)"),$slides.filter(".swiper-slide-active").css("transform","matrix(1,0,0,1,0,0)"),$slides.filter(".swiper-slide-active").find(".swiper-slide-image").css("transform","matrix(1,0,0,1,0,0)")}else $slider.find(".swiper-slide").css("-webkit-transform",""),$slider.find(".swiper-slide").not(".swiper-slide-prev,.swiper-slide-prev2,.swiper-slide-next,.swiper-slide-next2,.swiper-slide-active").css("transform","matrix(1,0,0,1,"+self.sliderWidth+",0)"),$slider.find(".swiper-slide").not(".swiper-slide-prev,.swiper-slide-prev2,.swiper-slide-next,.swiper-slide-next2,.swiper-slide-active").find(".swiper-slide-image").css("transform","matrix(1,0,0,1,-"+self.imagePosition+",0)"),$slider.find(".swiper-slide-prev,.swiper-slide-prev2").css("transform","matrix(1,0,0,1,-"+self.sliderWidth+",0)"),$slider.find(".swiper-slide-prev .swiper-slide-image").css("transform","matrix(1,0,0,1,"+self.imagePosition+",0)"),$slider.find(".swiper-slide-prev2 .swiper-slide-image").css("transform","matrix(1,0,0,1,"+self.imagePosition+",0)"),$slider.find(".swiper-slide-next").css("transform","matrix(1,0,0,1,"+self.sliderWidth+",0)"),$slider.find(".swiper-slide-next2").css("transform","matrix(1,0,0,1,"+self.sliderWidth+",0)"),$slider.find(".swiper-slide-next .swiper-slide-image").css("transform","matrix(1,0,0,1,-"+self.imagePosition+",0)"),$slider.find(".swiper-slide-next2 .swiper-slide-image").css("transform","matrix(1,0,0,1,-"+self.imagePosition+",0)"),$slider.find(".swiper-slide-active").css("transform","matrix(1,0,0,1,0,0)"),$slider.find(".swiper-slide-active .swiper-slide-image").css("transform","matrix(1,0,0,1,0,0)")}});$slider.find(".swiper-button-next").add("#fullScreenSlider .arrows-button-next").bind("click",function(e){e.preventDefault(),swiper.slideNext()}),$slider.find(".swiper-button-prev").add("#fullScreenSlider .arrows-button-prev").bind("click",function(e){e.preventDefault(),swiper.slidePrev()}),swiper.off("onClick"),swiper.off("onTouchStart"),swiper.off("onTouchEnd"),swiper.off("onTouchMove"),swiper.off("onTouchMoveOpposite")}else if($slider.hasClass("slide"))var $slideNum=$slider.find(".swiper-slide").length+2,$initiated=!1,swiper=new Swiper("#fullScreenSlider .swiper-container",{loop:!0,loopedSlides:0,speed:1050,initialSlide:0,keyboardControl:!0,autoplay:4500,followFinger:!0,longSwipesMs:600,mousewheelControl:!1,autoplayDisableOnInteraction:!1,nextButton:"#fullScreenSlider .arrows-button-next",prevButton:"#fullScreenSlider .arrows-button-prev",slidesPerView:1,onInit:function(){$initiated=!0,$first_slide=$slider.find(".swiper-slide").eq(1),$firstDuplicateSlide=$slider.find(".swiper-slide-duplicate").eq(0),$secondDuplicateSlide=$slider.find(".swiper-slide-duplicate").eq(1),firstDupslideHasVideo=$firstDuplicateSlide.hasClass("has-duplicate-video"),secondDupslideHasVideo=$secondDuplicateSlide.hasClass("has-duplicate-video"),$slider.find(".mejs-container").css("position","fixed"),setTimeout(function(){$slider.find(".mejs-container").css("position","relative")},10),firstDupslideHasVideo&&$firstDuplicateSlide.find(".swiper-slide-image").remove(),secondDupslideHasVideo&&$secondDuplicateSlide.find(".swiper-slide-image").remove()},onTouchStart:function(swiper){secondDupslideHasVideo&&2==swiper.activeIndex&&$first_slide.css("transform",""),firstDupslideHasVideo&&2==swiper.activeIndex&&$slider.find(".swiper-slide").eq($slideNum-2).css("transform","")},onSetTranslate:function(swiper,translate){$initiated&&(secondDupslideHasVideo&&(swiper.activeIndex==$slideNum-2?$first_slide.css("transform","translate3d("+swiper.activeIndex*self.sliderWidth+"px,0,0)"):1==swiper.activeIndex&&$first_slide.css("transform","")),firstDupslideHasVideo&&(1==swiper.activeIndex?$slider.find(".swiper-slide").eq($slideNum-2).css("transform","translate3d(-"+($slideNum-2)*self.sliderWidth+"px,0,0)"):swiper.activeIndex==$slideNum-2&&$slider.find(".swiper-slide").eq($slideNum-2).css("transform","")),$secondDuplicateSlide.hasClass("swiper-slide-active")?$first_slide.addClass("swiper-slide-active"):$firstDuplicateSlide.hasClass("swiper-slide-active")&&$slider.find(".swiper-slide").eq($slideNum-2).addClass("swiper-slide-active"))}});else{var $slideNum=$slider.find(".swiper-slide").length+2,$initiated=!1,swiper=new Swiper("#fullScreenSlider .swiper-container",{loop:!0,speed:1e3,initialSlide:0,keyboardControl:!0,autoplay:4500,autoplayDisableOnInteraction:!1,effect:"fade",simulateTouch:!1,onlyExternal:!1,mousewheelControl:!1,slidesPerView:1,onInit:function(){$initiated=!0,$slides=$slider.find(".swiper-slide"),$second_slide=$slides.eq(2),$first_slide=$slides.eq(1),$firstDuplicateSlide=$slides.filter(".swiper-slide-duplicate").eq(0),$secondDuplicateSlide=$slides.filter(".swiper-slide-duplicate").eq(1),firstDupslideHasVideo=$firstDuplicateSlide.hasClass("has-duplicate-video"),secondDupslideHasVideo=$secondDuplicateSlide.hasClass("has-duplicate-video"),$slider.find(".mejs-container").css("position","fixed"),setTimeout(function(){$slider.find(".mejs-container").css("position","relative")},10),firstDupslideHasVideo&&$firstDuplicateSlide.find(".swiper-slide-image").remove(),secondDupslideHasVideo&&$secondDuplicateSlide.find(".swiper-slide-image").remove(),1==$.browser.mozilla&&$slider.find(".swiper-wrapper").add($slides).css("top","-0.1px")},onSetTranslate:function(swiper,translate){$initiated&&($slides.css("visibility","").filter(".fake-active").removeClass("fake-active"),$secondDuplicateSlide.hasClass("swiper-slide-active")&&($first_slide.addClass("fake-active swiper-slide-active"),secondDupslideHasVideo&&$first_slide.nextAll().css({visibility:"hidden",opacity:"0"})),$firstDuplicateSlide.hasClass("swiper-slide-active")&&($slides.eq($slideNum-2).addClass("fake-active swiper-slide-active"),firstDupslideHasVideo&&$slides.eq($slideNum-2).prevAll().css({visibility:"hidden",opacity:"0"})))}});$slider.find(".swiper-button-next").add("#fullScreenSlider .arrows-button-next").bind("click",function(e){e.preventDefault(),swiper.slideNext()}),$slider.find(".swiper-button-prev").add("#fullScreenSlider .arrows-button-prev").bind("click",function(e){e.preventDefault(),swiper.slidePrev()})}},homeSlideButton:function(){var self=this;$("#caption-start").on("click",function(){var $next_section=$(this).parents("section#home").next("#startHere");self.scroll_to($next_section,1)})},blogToggleClick:function(postVar){var self=this,$toggleMode=parseInt(postVar.$accordion.attr("data-value"));if(0===$toggleMode){self.windowWidth>480&&"520px",postVar.$content.fadeIn(),postVar.$frameTitle.css({opacity:.3,"background-color":"#fff",height:"160px"}),postVar.$monthTitle.css({"border-left-color":"#fff",left:"-90px"}),postVar.$titleImage.toggleClass("accordion_closed"),postVar.$accordion.toggleClass("accordionClosed"),postVar.$accordion.attr("data-value","1")}else(1===$toggleMode||isNaN($toggleMode))&&(postVar.$content.fadeOut("fast"),postVar.$frameTitle.css({opacity:1,"background-color":"transparent",height:"100%"}),postVar.$day.css({width:"130px"}),postVar.$monthTitle.css({"border-left-color":"#fff",left:"0px"}),postVar.$monthTitle.find(".monthYear").css({left:"0px"}),postVar.$monthTitle.find(".blogTitle").css({left:"0px"}),postVar.$titleImage.toggleClass("accordion_closed"),postVar.$accordion.toggleClass("accordionClosed"),postVar.$accordion.attr("data-value","0"));self.reInitDjax()},blogToggleSet:function(postVar){var self=this;0===postVar.$flag?(postVar.$content.slideUp(function(){self.parallaxImg()}),postVar.$titleImage.toggleClass("accordion_closed")):(1===postVar.$flag||isNaN(postVar.$flag))&&(postVar.$accordion_box10.add(postVar.$accordionBox).animate({height:postVar.$imgHeight},{queue:!1,duration:500}),postVar.$frameTitle.css({opacity:.3,"background-color":"#fff",height:"160px"}))},blogToggleArray:function($thisAccordion){var $accordion=$thisAccordion,$titleImage=$accordion.find(".image"),$imgH=$titleImage.find("img"),$noImage=$titleImage.find(".noImage"),$content=$accordion.find(".accordion_content"),$accordion_box2=$accordion.find(".accordion_box2"),$accordion_box10=$accordion.find(".accordion_box10"),$flag=parseInt($accordion.attr("data-value"));$accordion.find(".blogClose");return{$accordion:$accordion,$titleImage:$titleImage,$imgH:$imgH,$noImage:$noImage,$content:$content,$accordion_box2:$accordion_box2,$accordion_box10:$accordion_box10,$flag:$flag,$minus:$accordion.find(".minus"),$plus:$accordion.find(".plus"),$accordionBox:$accordion.find(".accordionBox"),$frameTitle:$accordion.find(".frameTitle"),$day:$accordion.find(".accordion_title"),$monthTitle:$accordion.find(".leftBorder")}},blogToggle:function(){var self=this;$(".blogAccordion").each(function(){var $accordion=$(this),$titleImage=$accordion.find(".image"),$imgH=$titleImage.find("img"),$noImage=$titleImage.find(".noImage"),$content=$accordion.find(".accordion_content"),$accordion_box2=$accordion.find(".accordion_box2"),$accordion_box10=$accordion.find(".accordion_box10"),$flag=parseInt($accordion.attr("data-value")),$blogClose=$accordion.find(".blogClose"),$minus=$accordion.find(".minus"),$plus=$accordion.find(".plus"),postVar={$accordion:$accordion,$titleImage:$titleImage,$imgH:$imgH,$noImage:$noImage,$content:$content,$accordion_box2:$accordion_box2,$accordion_box10:$accordion_box10,$flag:$flag,$minus:$minus,$plus:$plus,$accordionBox:$accordion.find(".accordionBox"),$frameTitle:$accordion.find(".frameTitle"),$day:$accordion.find(".accordion_title"),$monthTitle:$accordion.find(".leftBorder")};self.blogToggleSet(postVar),$minus.add($plus).add($blogClose).click(function(){self.blogToggleClick(postVar)})})},blogToggleLoadmore:function(){var self=this;$(".posts-page-"+(self.blogPageNum+1)).find(".blogAccordion").each(function(){var $accordion=$(this),$titleImage=($accordion.find(".accordion_title"),$accordion.find(".image")),$imgH=$titleImage.find("img"),$noImage=$titleImage.find(".noImage"),$content=$accordion.find(".accordion_content"),$accordion_box2=$accordion.find(".accordion_box2"),$accordion_box10=$accordion.find(".accordion_box10"),$flag=parseInt($accordion.attr("data-value")),$blogClose=$accordion.find(".blogClose"),$minus=$accordion.find(".minus"),$plus=$accordion.find(".plus"),postLoadVar={$accordion:$accordion,$titleImage:$titleImage,$imgH:$imgH,$noImage:$noImage,$content:$content,$accordion_box2:$accordion_box2,$accordion_box10:$accordion_box10,$flag:$flag,$minus:$minus,$plus:$plus,$accordionBox:$accordion.find(".accordionBox"),$frameTitle:$accordion.find(".frameTitle"),$day:$accordion.find(".accordion_title"),$monthTitle:$accordion.find(".leftBorder")};self.blogToggleSet(postLoadVar),$minus.add($plus).add($blogClose).click(function(){self.blogToggleClick(postLoadVar)})})},blogLoadMore:function(){var self=this,$loadBTN=$(".pageNavigation");if(!("undefined"==typeof paged_data||$loadBTN.length<1)){var max=1;if($loadBTN.hasClass("cartBlog")){var $uniqueId="#"+$loadBTN.siblings(".isotope").attr("data-id");max=$($uniqueId).first().data("maxpages")}else max=parseInt(paged_data.maxPages);max<2||($loadBTN.html('<div class="readmore clearfix"><div class="loadMore loadmoreactive"><span class="text load-more-text">'+paged_data.loadMoreText+'</span><span class="text loading-text">'+paged_data.loadingText+'</span><span class="text no-more-text">'+paged_data.noMorePostsText+"</span></div></div>"),$(".loadMore").click(function(){var $btn=$(this);if(($loadBTN=$(this).parents(".pageNavigation")).hasClass("cartBlog")){var $uniqueId=" #"+$loadBTN.siblings(".isotope").attr("data-id"),$blog=$($uniqueId).first(),$isCardBlog=!0,nextPage=(startPage=$blog.data("page"))+1,max=$blog.data("maxpages"),isLoading=!1;$blog.data("page",nextPage)}else var startPage=parseInt(paged_data.startPage),nextPage=startPage+1,max=parseInt(paged_data.maxPages),isLoading=!1,$blog="#blogLoop",$uniqueId=" .post";if(!(max<2||(nextPage>max&&$btn.removeClass("loadingactive").addClass("loadmoreactive"),nextPage>max||isLoading))){isLoading=!0,$(this).removeClass("loadmoreactive").addClass("loadingactive");var $pageContainer=$('<div class="posts-page-'+nextPage+'"></div>');paged_data.nextLink=paged_data.nextLink.replace(/\/page\/[0-9]+/,"/?postpage="+nextPage),paged_data.nextLink=paged_data.nextLink.replace(/\?postpage=[0-9]+/,"?postpage="+nextPage),$pageContainer.load(paged_data.nextLink+$uniqueId,function(){$pageContainer.waitForImages(function(){var $content;if($isCardBlog?($content=$($pageContainer.html()),$content=$($content.html())):$content=$pageContainer,$content.hide().appendTo($blog).fadeIn("fast"),$isCardBlog){var $container=$($uniqueId);$container.isotope("insert",$content),setTimeout(function(){self.isotopeAnimation($blog),self.lazyLoadOnLoad($container),self.parallaxImg(),self.epico_blogMasonry(!0)},500)}paged_data.startPage=paged_data.startPage.replace(/[0-9]+/,startPage+1),nextPage<max?$btn.removeClass("loadingactive").addClass("loadmoreactive"):nextPage>=max&&$btn.removeClass("loadingactive loadmoreactive").addClass("nomoreactive"),isLoading=!1,$isCardBlog||(self.blogPageNum=nextPage,self.blogPageNum--,self.blogToggleLoadmore(),self.blogPostSlider(),self.fitVideo())})})}}),self.reInitDjax())}},homeHeight:function(callback){var self=this,$wpAdminBarHeight=$("#wpadminbar").height(),$HSlMVal=function(){var $HSlMHeight=self.windowHeight;return isNaN($wpAdminBarHeight)||($HSlMHeight-=$wpAdminBarHeight),$HSlMHeight}();if($(".portfolio_detail_full_width .pDHeader-standard #portfolio-detail-parallax-container").length>0||$(".portfolio_detail_boxed .pDHeader-standard #portfolio-detail-parallax-container").length>0){var $marginHeader=75,$marginSwiper=75;if($(".portfolio_detail_boxed .pDHeader-standard #portfolio-detail-parallax-container").length>0&&($marginHeader=95,$marginSwiper=55),$(".pDHeader-standard").css({height:$HSlMVal-$marginHeader+"px"}),$(".pDHeader-standard .swiper-container").css({height:$HSlMVal-$marginSwiper+"px"}),self.$body.height()<self.windowHeight&&self.windowWidth>1140){self.$body.height();var $calc=self.windowHeight-self.$bodyheight;$calc+=5,$("#PDetail .pDcontent").css({"padding-bottom":$calc})}}if(0!==$(".fullScreenImage").length&&$("#fullScreenImage").css({height:$HSlMVal+"px"}),self.windowWidth>1140)if($("#homeHeight").height()>0){$("#homeHeight").height();6,isNaN($wpAdminBarHeight)||$wpAdminBarHeight,0}else 0!==$("#fullScreenSlider").length||0!==$("#fullScreenImage").length?(self.msie>0||self.msie11?0!==$("#fullScreenImage").length?$("#main").css({marginTop:$HSlMVal+"px"}):$("#main").css({marginTop:"0px"}):$("#main").css({paddingTop:$HSlMVal+"px"}),0!==$("#fullScreenImage").length&&(self.msie>0||self.msie11)&&$("#home .homeWrap .fullScreenImage").css({position:"static"}),$HSlMVal=0):$("#main").css({marginTop:"0px"});else $("#main").css({marginTop:0});return!0},mobileNavigation:function(){var self=this;$("#mobile-menu-button").on("click",function(e){e.preventDefault(),e.stopPropagation();var $this=$(this),$menu=$("#mobile-menu-items");$this.hasClass("active")?($menu.slideUp("300","easeInOutCirc"),$this.removeClass("active"),$("#mobile-menu-overlay").removeClass("active")):($menu.slideDown("300","easeInOutCirc"),$this.addClass("active"),$("#mobile-menu-overlay").addClass("active"))}),$(".toggle_submneu").on("click",function(){var $toggle=$(this);$toggle.hasClass("open")?($toggle.closest("li").removeClass("submenu-open"),$toggle.siblings("ul.sub-menu").slideUp("300","easeInOutCirc")):($toggle.closest("li").addClass("submenu-open"),$toggle.siblings("ul.sub-menu").slideDown("300","easeInOutCirc")),$toggle.toggleClass("open")}),$(".navigation-mobile a,#mobile-menu-overlay").on("click",function(e){e.stopPropagation(),$("#mobile-menu-button").trigger("click")}),self.mobileNavigationContainerHeight()},mobileNavigationContainerHeight:function(){var nav_new_height=this.$window.outerHeight()-$("#epHeader").outerHeight();$("#mobile-menu-items").css("max-height",nav_new_height)},addToCart:function(){var self=this,$toggleSidebarContainer=$(".toggleSidebarContainer"),$cartSidebarContainer=$(".cartSidebarContainer");self.$document.on("click",".add_to_cart_button:not(.product_type_variable) , .single_add_to_cart_button",function(e){var $this=$(this);if($this.is(".ajax_add_to_cart")){if($this.is(".affilate-product")||$this.parent(".fixed-add-to-cart").is(".affilate-product"))return 0;if(e.preventDefault(),$(this).parent().parent(".fixed-add-to-cart-container").find(".go-to-add-to-cart").length||$(this).hasClass("disabled"))return 0;self.$body.hasClass("modal-open")?(setTimeout(function(){self.close_quick_view()},300),self.$body.hasClass("vertical_menu_enabled")||setTimeout(function(){self.$epHeader.addClass("sidebarToggleOpen"),$toggleSidebarContainer.addClass("sidebarToggleOpen"),$cartSidebarContainer.addClass("sidebarToggleOpen"),$(".cartSidebarbtn").addClass("active"),$(".scrollToTop").addClass("toggleOpen")},600)):($(this).parent().parent(".fixed-add-to-cart-container").length&&($(".fixed-add-to-cart-container .fixed-add-to-cart").addClass("toggleOpen"),$(".scrollToTop").addClass("toggleOpen")),self.$body.hasClass("vertical_menu_enabled")||(self.$epHeader.addClass("sidebarToggleOpen"),$toggleSidebarContainer.addClass("sidebarToggleOpen"),$cartSidebarContainer.addClass("sidebarToggleOpen"),$(".cartSidebarbtn").addClass("active")))}else $this.parents("form").submit()})},addToCartEvents:function(){var self=this;$(document.body).on("adding_to_cart",function(){$(".cartSidebarContainer .cartSidebarWrap").addClass("updatingCart")}),$(document.body).on("added_to_cart",function(){$(".cartSidebarContainer .cartSidebarWrap").removeClass("updatingCart"),self.reInitDjax(),self.card_widget_update()}),self.$document.on("added_to_cart wc_cart_updated",function(){setTimeout(function(){self.epico_scrollbar(".toggleSidebar .cart_list.product_list_widget")},500),$(".mini_cart_item a.remove, .mini_cart_item a.undo").addClass("no_djax")})},addToCart_variation_group:function(){this.$document.on("click","table.variations button.single_add_to_cart_button, .single_add_to_cart_button.product_type_variable , .single_add_to_cart_button.product_type_grouped",function(e){if($(this).is(".ajax_add_to_cart")){e.preventDefault();var $thisbutton=$(this);if(!$thisbutton.hasClass("disabled")){if($thisbutton.hasClass("product_type_variable")||$thisbutton.hasClass("product_type_grouped")||$thisbutton.parent("table.variations")){$thisbutton.addClass("loading");var $productForm=$thisbutton.closest("form");if(!$productForm.length)return;var data={product_id:$productForm.find("input[name*='add-to-cart']").val(),product_variation_group_data:$productForm.serialize()};return $(document.body).trigger("adding_to_cart",[$thisbutton,data]),$.ajax({type:"POST",url:"?add-to-cart="+data.product_id+"&ep-ajax-add-to-cart=1",data:data.product_variation_group_data,dataType:"html",cache:!1,headers:{"cache-control":"no-cache"},error:function(XMLHttpRequest,textStatus,errorThrown){console.log("Varation Product  Add to cart Faild!!")},success:function(response){if(response)if(response.error&&response.product_url)window.location=response.product_url;else if("yes"!==wc_add_to_cart_params.cart_redirect_after_add){$(".widget_shopping_cart_content").html(response);var $response=$(".widget_shopping_cart_content"),fragments={".cartContentsCount":$response.find(" .cartContentsCount"),".cart-bottom-box":$response.find(".cart-bottom-box"),".product_list_widget":$response.find(".product_list_widget"),".wc-notice-content":$response.find(".woocommerce-error, .woocommerce-message")};$.each(fragments,function(selector,$element){$element.length&&$(selector).each(function(){$(this).parents(".widget_shopping_cart_content").length&&$(this).replaceWith($element)})}),$(".widget_woocommerce-dropdown-cart .cart-contents .cartContentsCount").replaceWith('<div class="cartContentsCount">'+$response.find(".cartContentsCount").text()+"</div>"),setTimeout(function(){$(document.body).trigger("added_to_cart"),$thisbutton.removeClass("loading"),$thisbutton.removeClass("added")},100)}else window.location=wc_add_to_cart_params.cart_url}}),!1}return!0}}else $(this).parents("form").submit()})},wc_notices:function(){var self=this;self.$body.hasClass("no_wc_notices")||self.$body.on("added_to_cart",function(event,fragments){if(!(fragments===undefined||fragments["div.widget_shopping_cart_content"]===undefined&&$(fragments[".wc-notice-content"]).length<=0)){var replacedBefore=!1,$returned_message=$(fragments["div.widget_shopping_cart_content"]).find(".woocommerce-error, .woocommerce-message");$(fragments[".wc-notice-content"]).length>0&&(replacedBefore=!0),($returned_message.length>0||1==replacedBefore)&&self.update_notices($returned_message,replacedBefore)}})},update_notices:function($wc_notices_in_cart,replacedBefore){var self=this,$wc_notices_container=$("#ep_wc_notices");setTimeout(function(){1==replacedBefore?$wc_notices_container.wrapInner('<div class="wc-notice-content"></div>'):$wc_notices_container.html($wc_notices_in_cart),$wc_notices_container.addClass("show"),self.reInitDjax(),self.wcNoticeTimer=setTimeout(function(){$wc_notices_container.removeClass("show")},6e3)},470)},togglesidebar:function(){var self=this,$toggleSidebarContainer=$(".toggleSidebarContainer"),$toggleSidebarWidgetbar=$(".toggleSidebarWidgetbar"),$cartSidebarContainer=$(".cartSidebarContainer"),$fixedAddToCartContainer=$(".fixed-add-to-cart-container .fixed-add-to-cart"),$scrollToTop=$(".scrollToTop"),$sideBarToggleBtn=$(".sidebartogglebtn"),$cartToggleButton=$(".cartSidebarbtn"),close_sidebar=function(){$toggleSidebarContainer.hasClass("sidebarToggleOpen")&&(self.$epHeader.removeClass("sidebarToggleOpen"),$toggleSidebarContainer.removeClass("sidebarToggleOpen"),$toggleSidebarWidgetbar.removeClass("sidebarToggleOpen"),$cartSidebarContainer.removeClass("sidebarToggleOpen"),$fixedAddToCartContainer.removeClass("toggleOpen"),$scrollToTop.removeClass("toggleOpen"),self.$body.removeClass("disable-snap-to-scroll"))},open_sidebar=function(type){self.$epHeader.addClass("sidebarToggleOpen"),$toggleSidebarContainer.addClass("sidebarToggleOpen"),$fixedAddToCartContainer.addClass("toggleOpen"),$scrollToTop.addClass("toggleOpen"),self.$body.addClass("disable-snap-to-scroll"),"cart"==type?$cartSidebarContainer.addClass("sidebarToggleOpen"):$toggleSidebarWidgetbar.addClass("sidebarToggleOpen")};self.$document.on("click","#sidebar-open-overlay, .cartSidebarContainer #cart-close-btn,.toggleSidebarWidgetbar #toggle-sidebar-close-btn",function(){close_sidebar()}),$cartToggleButton.on("click",function(){self.$body.hasClass("vertical_menu_enabled")&&self.windowWidth>1140||self.$body.hasClass("woocommerce-cart")||open_sidebar("cart")}),$sideBarToggleBtn.on("click",function(){open_sidebar("sidebar")}),self.$window.on("djaxLoading",function(){close_sidebar()}),$(".sidebartogglebtn").bind("webkitAnimationEnd mozAnimationEnd animationEnd",function(){$(this).removeClass("sidebartogglebtnanimate")}),$(".sidebartogglebtn").mouseenter(function(){$(this).addClass("sidebartogglebtnanimate")})},togglesidebar_scrollbar:function(){var self=this;self.epico_scrollbar(".toggleSidebarWidgetbar"),self.epico_scrollbar(".toggleSidebar .cart_list.product_list_widget"),self.$body.on("wc_fragments_refreshed",function(){self.epico_scrollbar(".toggleSidebar .cart_list.product_list_widget")})},epico_scrollbar:function(element){var $element=$(element);$element&&$element.each(function(){var $this=$(this),$scrollContainer=$this.find(".swiper-container");if($scrollContainer.length>0&&$scrollContainer[0].swiper!=undefined)$scrollContainer[0].swiper.updateSlidesSize();else{$this.wrapInner('<div class="swiper-container sw-scrollbar"><div class="swiper-wrapper"><div class="swiper-slide"></div></div><div class="swiper-scrollbar"></div></div>'),$scrollContainer=$this.find(".swiper-container");new Swiper($scrollContainer,{scrollbar:".swiper-scrollbar",direction:"vertical",slidesPerView:"auto",mousewheelControl:!0,freeMode:!0,touchReleaseOnEdges:!0,mousewheelReleaseOnEdges:!0,scrollbarDraggable:!0,mousewheelSensitivity:.6})}})},toggle_sidebar_menu:function(element){$(".toggleSidebarWidgetbar li.menu-item-has-children a").on("click",function(e){e.preventDefault();var $this=$(this);if($this.siblings("ul.sub-menu").hasClass("activeSubmenu"))$this.siblings(".sub-menu.activeSubmenu").css({height:"0",color:"#fff"}),$this.parent().parent("ul.sub-menu").height("auto"),$this.siblings("ul.sub-menu").removeClass("activeSubmenu"),$this.removeClass("activeSubmenu");else{if($this.parents(".activeSubmenu").length){var $level2height=53*($level2Menu=($level2Menu=$this.parents(".activeSubmenu").find("> li")).length),$level3Menu=$this.siblings("ul.sub-menu").find("> li"),$level3height=53*($level3Menu=$level3Menu.length),$ULparent=$this;$ULparent.parent().parent().find("a.activeSubmenu").removeClass("activeSubmenu"),$ULparent.parent().parent().find("ul.activeSubmenu").height(0).removeClass("activeSubmenu"),$this.parents(".activeSubmenu").css({height:$level2height+$level3height}),$this.siblings("ul.sub-menu").css({height:$level3height})}else{var $level2Menu=$this.siblings("ul.sub-menu").find("> li"),$level2height=53*($level2Menu=$level2Menu.length);$this.siblings("ul.sub-menu").css({height:$level2height})}$this.siblings("ul.sub-menu").addClass("activeSubmenu"),$this.addClass("activeSubmenu")}setTimeout(function(){$(".toggleSidebarWidgetbar >.swiper-container")[0].swiper.updateSlidesSize()},500)})},coveringLevelVerticalMenu:function(){var $vertical_menu_item=$(".vertical_menu_enabled .vertical_menu_navigation li.menu-item-has-children > a:not('.mp-back')");$vertical_menu_item.addClass("no_djax"),$vertical_menu_item.on("click",function(e){var $this=$(this);e.preventDefault(),$this.parent().siblings().addClass("hide-for-submenu"),$this.addClass("hide-for-submenu"),$this.parent().addClass("removeActiveHover"),$this.siblings(".mp-level").length&&$this.siblings(".mp-level").addClass("mp-level-open")}),$(".vertical_menu_enabled .vertical_menu_navigation li a.mp-back").on("click",function(e){e.preventDefault();var $this=$(this);$this.parent().removeClass("mp-level-open"),$this.parent().parent().find("a").removeClass("hide-for-submenu"),$this.parent().parent().removeClass("removeActiveHover"),$this.parent().parent().siblings().removeClass("hide-for-submenu")})},interactiveBackgroundImg:function(){var self=this;$(".interactive-background").length<=0||self.epico_interactive_background($(".interactive-background .section-container"),{sensitivity:100,duration:1e4,zoom:!1,initialZoom:!0})},parallaxImg:function(){var self=this;if(!(self.$body.hasClass("snap-to-scroll")||$(".parallax").length<=0||self.msie>0||self.msie11)&&self.windowWidth>1140&&!self.isTouchDevice){var $parallaxContainers=$(".parallax"),scrollPosition=0,parallax_handler=function(){$parallaxContainers.each(function(){var $el=$(this),speed=parseFloat($el.attr("data-speed")),elementHeight=$el.data("height"),elementTop=$el.data("offsetTop"),elementBottom=elementTop+elementHeight,factorMult=0;if(!(elementTop>scrollPosition+self.windowHeight||elementBottom<scrollPosition)){var parallax=(scrollPosition-elementTop)/self.windowHeight;factorMult=Math.round(parallax*speed*100)/100,$el.find(".parallax-img").css({transform:"translate3d(0,"+factorMult+"%,0)"})}})},parallax_init=function(){self.windowHeight=self.$window.height(),$parallaxContainers.each(function(){var $el=$(this);$el.data("offsetTop",$el.offset().top),$el.data("height",$el.outerHeight(!0))})},do_scroll=function(){$parallaxContainers.each(function(){var $el=$(this);$el.data("offsetTop",$el.offset().top)}),scrollPosition=self.$window.scrollTop(),window.requestAnimationFrame(parallax_handler)};parallax_init(),parallax_handler(),self.$window.on("scroll",do_scroll).on("resize",parallax_init),self.$window.one("djaxClick",function(){self.$window.unbind("scroll",do_scroll).unbind("resize",parallax_init)})}},epico_interactive_background:function($elements,options){var self=this;if(!(self.windowWidth<=1140||self.isTouchDevice)){var transform=function($target,x,y,scaleRatio){$target.css("transform","matrix(1, 0, 0,1,"+x+","+y+") scale("+scaleRatio+","+scaleRatio+")")},transformLeave=function($target,x,y,scaleRatio){$target.css("transform","matrix(1, 0, 0,1,"+x+","+y+") scale("+scaleRatio+","+scaleRatio+")")};return $elements.each(function(){var settings=$.extend({target:"> .interactive-background-image img",sensitivity:20,duration:1400,zoom:!0,initialZoom:!1},options),el=$(this);if(0===el.find(settings.target).length||el.hasClass("interactive-background-active"))return!0;var h,w,cx,x,y,target=el.find(settings.target),scaleRatio=1;1400!=settings.duration&&target.css("transition-duration",settings.duration+"ms"),el.addClass("interactive-background-active"),el.on("mouseenter interactive_bg_init",function(e){w!==el.width()&&(w=el.width(),h=el.height(),cx=settings.sensitivity/w,(settings.zoom||settings.initialZoom)&&(scaleRatio=(w+settings.sensitivity)/w),settings.initialZoom&&target.css("transform","scale("+scaleRatio+","+scaleRatio+")"))}).on("mousemove",function(e){x=-cx*(e.pageX-(target.offset().left+w/2)),y=-cx*(e.pageY-(target.offset().top+h/2)),transform(target,x,y,scaleRatio)}).on("mouseleave",function(e){settings.initialZoom?transformLeave(target,0,0,scaleRatio):transformLeave(target,0,0,1)}),settings.initialZoom&&el.trigger("interactive_bg_init")})}},blogPostSlider:function(){$(".bpSwiper").not(".disabled_swiper").each(function(){var $bd_s_nextbtn=$(this).find(".arrows-button-next"),$bd_s_prevbtn=$(this).find(".arrows-button-prev");$bd_s_nextbtn.add($bd_s_prevbtn).css({opacity:"1"});new Swiper($(this),{loop:!0,speed:650,nextButton:$bd_s_nextbtn,prevButton:$bd_s_prevbtn,onSlideChangeStart:function(swiper){$(".bpSwiper .swiper-wrapper").css({height:""});var $bpSwiperWidth=$(".bpSwiper").width(),$imgeWidth=$(swiper.slides[swiper.activeIndex]).find("img").attr("width"),$imgeNewHeight=$bpSwiperWidth*$(swiper.slides[swiper.activeIndex]).find("img").attr("height")/$imgeWidth;$(".bpSwiper .swiper-wrapper").css({height:$imgeNewHeight}),$(".bpSwiper").css({height:$imgeNewHeight})}})})},portfolioLike:function(){this.$body.on("click",".jm-post-like",function(e){e.preventDefault();var $like=$(this),post_id=$like.data("post_id");$.ajax({type:"post",url:epico_theme_vars.ajax_url,data:"action=jm-post-like&nonce="+epico_theme_vars.nonce+"&jm_post_like=&post_id="+post_id,success:function(count){if(-1!==count.indexOf("already")){var lecount=count.replace("already","");"0"===lecount&&(lecount="Like"),$like.prop("title","Like"),$like.removeClass("liked"),$like.find(".count").addClass("no_like").html(lecount)}else $like.prop("title","Unlike"),$like.addClass("liked"),$like.find(".count").removeClass("no_like").html(count)}})})},portfolioSlider:function(){if(!($(".portfolioswiper").length<=0)){var self=this;setTimeout(function(){$(".portfolioswiper").each(function(){var $slider=$(this);if(!($slider.find(".pSlide").length<2)){var $autoplayDuration=3e3+Math.floor(4e3*Math.random());new Swiper($slider,{autoplay:$autoplayDuration,autoplayDisableOnInteraction:!1,speed:1e3,initialSlide:0,loop:!0,effect:"fade",fade:{crossFade:!1}});setTimeout(function(){$slider.find(".swiper-slide-duplicate .lazy-load-on-load").removeClass("is-loading"),self.lazyLoadOnLoad($slider.find(".swiper-slide-duplicate"))},500)}})},1e3)}},portfolio_detail_header_parallax:function(){var self=this;if(!($("#portfolio-detail-parallax-container").length<=0||self.msie>0||self.msie11)){self.$window.scrollTop();if(self.windowWidth>1140&&!self.isTouchDevice){self.windowHeight=self.$window.height();var $slider=$("#portfolio-detail-parallax-container"),scrollPosition=0,tick=!1,home_parallax_handler=function(){tick=!0,self.windowHeight<scrollPosition?tick=!1:($slider.css({transform:"translate3d(0,"+.6*scrollPosition+"px,0)"}),tick=!1)};home_parallax_handler();var requestTick=function(){0==tick&&(scrollPosition=self.$window.scrollTop(),window.requestAnimationFrame(home_parallax_handler))};self.$window.on("scroll",requestTick),self.$window.one("djaxClick",function(){self.$window.unbind("scroll",requestTick)})}}},portfolio_detail_title:function(){$(".pDHeader-title").length<1||$(".pDHeader-title").addClass("bg-animated active")},portfolio_next_prev:function(){var self=this;self.$body.hasClass("ajax_page_transition")?self.$window.bind("djaxClick",function(e,data){var link=$(data);link.hasClass("portfolioLink")?(self.$skills=link.parents(".isotope").data("skills"),self.$portfolioBackLink=$(location).attr("href"),self.$portfolioID=link.data("pid")):link.hasClass("portfolioDetailNavLink")&&(self.$skills=link.data("skills"),self.$portfolioBackLink=$("#PDbackToPortfolio").attr("href"),self.$portfolioID=link.data("pid"))}):$(".portfolio.isotope-item a, a.portfolioDetailNavLink").on("click",function(e){e.preventDefault();var $link=$(this);$link.hasClass("portfolioLink")?(self.$skills=$link.parents(".isotope").data("skills"),self.$portfolioBackLink=$(location).attr("href"),self.$portfolioID=$link.data("pid")):$link.hasClass("portfolioDetailNavLink")&&(self.$skills=$link.data("skills"),self.$portfolioBackLink=$("#PDbackToPortfolio").attr("href"),self.$portfolioID=$link.data("pid")),void 0!==window.sessionStorage&&(window.sessionStorage.setItem("skills",self.$skills),window.sessionStorage.setItem("portfolioBackLink",self.$portfolioBackLink),window.sessionStorage.setItem("pid",self.$portfolioID)),window.location=$link.attr("href")})},remove_footer_creative_portfolio_detail:function(){$(".portfolio_detail_boxed").length||$(".portfolio_detail_full_width").length||$(".portfolio_detail_full_width").length||$(".portfolio_detail_ default").length?($("footer").css("display","block"),$("#googleMap").css("display","none"),$(".footer-widgetized").css("display","none")):$(".portfolio_detail_creative").length?($("footer").css("display","none"),$("#googleMap").css("display","none"),$(".footer-widgetized").css("display","none")):($("footer").css("display",""),$("#googleMap").css("display","block"),$(".footer-widgetized").css("display","block"))},remove_left_right_menu_creative_portfolio_detail:function(){var self=this;$(".portfolio_detail_creative").length?($(".vertical_menu_area").add($("#topbar")).addClass("hide_menu"),self.$body.addClass("removePadding disableScroll")):($(".vertical_menu_area").add($("#topbar")).removeClass("hide_menu"),self.$body.removeClass("removePadding disableScroll"))},set_margin_creative_portfolio_detail:function(){var self=this;if($(".portfolio_detail_creative").length&&self.windowWidth>768){var $portfolio_detail_creative_height=$(".pd_creative_fixed_content").height(),$portfolio_detail_creative_space=(self.windowHeight-$portfolio_detail_creative_height)/2;$portfolio_detail_creative_space<0&&($portfolio_detail_creative_space=0),$(".portfolio_detail_creative").css({"margin-top":$portfolio_detail_creative_space})}},pDSwiper:function(){var self=this;if(!($("#pDSwiper").length<1))if($(".portfolio_detail_creative").length){if("#pDSwiper".length)if(self.windowWidth<=979){var $nextbtn=$("#pDSwiper").find(".pd-arrows-button-next"),$prevbtn=$("#pDSwiper").find(".pd-arrows-button-prev");new Swiper("#pDSwiper",{slidesPerView:"1",autoplay:5e3,loopedSlides:1,paginationClickable:!0,spaceBetween:0,loop:!0,nextButton:$nextbtn,prevButton:$prevbtn})}else new Swiper("#pDSwiper",{slidesPerView:"auto",paginationClickable:!0,spaceBetween:15})}else if($("#pDSwiper").find(".swiper-slide").length>1){var $nextbtn=$("#pDSwiper").find(".arrows-button-next"),$prevbtn=$("#pDSwiper").find(".arrows-button-prev");new Swiper("#pDSwiper",{autoplay:5e3,autoplayDisableOnInteraction:!1,speed:700,longSwipesMs:600,keyboardControl:!0,loop:!0,slidesPerView:1,nextButton:$nextbtn,prevButton:$prevbtn,spaceBetween:0})}},testimonial:function(){var self=this,$testimonials=$(".testimonials");$testimonials.length&&($testimonials.each(function(){var $testimonialid=$(this).attr("data-id"),$nextbtn=$(this).find(".arrows-button-next-"+$testimonialid),$prevbtn=$(this).find(".arrows-button-prev-"+$testimonialid);new Swiper(".swiper-container-"+$testimonialid,{autoplay:5e3,autoplayDisableOnInteraction:!1,effect:"fade",fade:{crossFade:!0},speed:1200,loop:!0,slidesPerView:1,simulateTouch:!1,nextButton:$nextbtn,prevButton:$prevbtn,spaceBetween:0})}),self.epico_scrollbar(".quote blockquote"))},commentRespond:function(){var $respond=$("#respond"),$respondWrap=$("#respond-wrap"),$cancelCommentReply=$respond.find("#cancel-comment-reply-link"),$commentParent=$respond.find('input[name="comment_parent"]');$(".comment-reply-link").each(function(){var $this=$(this),$parent=$this.parents().eq(2);$this.click(function(){var commId=$this.parents(".comment").attr("data-id");return $commentParent.val(commId),$respond.insertAfter($parent),$cancelCommentReply.show(),!1})}),$cancelCommentReply.click(function(e){e.preventDefault(),$cancelCommentReply.hide(),$respond.appendTo($respondWrap),$commentParent.val(0)})},Forms:function(){var self=this,$respond=$("#respond"),$respondWrap=$("#respond-wrap"),$cancelCommentReply=$respond.find("#cancel-comment-reply-link"),$commentParent=$respond.find('input[name="comment_parent"]');$(".comment-reply-link").each(function(){var $this=$(this),$parent=$this.parent().parent();$this.click(function(){var commId=$this.parents(".comment").find(".comment_id").html();return $commentParent.val(commId),$respond.insertAfter($parent),$cancelCommentReply.show(),!1})}),$cancelCommentReply.click(function(e){$cancelCommentReply.hide(),$respond.appendTo($respondWrap),$commentParent.val(0),e.preventDefault()}),self.ContactForm("#respond")},scroll_to:function(location,introCheck,time){var self=this;if(-1==location.toString().indexOf("#!portfolio-detail/")&&"#"!==location){var scrollto;if(1==introCheck||2==introCheck||4==introCheck||5==introCheck){if(4!==introCheck&&5!==introCheck)for(var sURLVariables=window.location.search.substring(1).split("&"),i=0;i<sURLVariables.length;i++){var sParameterName=sURLVariables[i].split("=");"sectionid"==sParameterName[0]&&(location="#".concat(sParameterName[1]))}var $location=$(location);if($location.length){var offsetTop=$location.offset().top,done=$location.closest(".layout").offset().top,menuHeight=$("#headerFirstState").outerHeight(),topbar=0;$("#headerSecondState").length>0&&(menuHeight=$("#headerSecondState").outerHeight()),offsetTop-=done,self.$body.hasClass("has-topbar")&&(topbar=33),scrollto=$(".vertical_menu_area").length||5==introCheck?offsetTop-topbar:offsetTop-menuHeight+topbar,self.windowWidth<=1140&&(scrollto=offsetTop-70)}}if(1===introCheck||4===introCheck||5===introCheck){scrolltime=parseInt(epico_theme_vars.scrolling_speed);time&&(scrolltime=time),self.$scrollpals.animate({scrollTop:scrollto},{duration:scrolltime,easing:epico_theme_vars.scrolling_easing,complete:function(){self.scrolingToSection=!1,self.externalClicked=!1},queue:!1})}else if(2===introCheck||3===introCheck){var scrolltime=1500;time&&(scrolltime=time),self.$scrollpals.animate({scrollTop:0},{duration:scrolltime,easing:epico_theme_vars.scrolling_easing,queue:!1})}}},fitVideo:function(){$(".container").fitVids()},portfolioIsotope:function($pIsotopeContainer){var self=this,$firstTimeLoad=!0;0===$pIsotopeContainer?$pIsotopeContainer=$(".portfoliowrap .isotope:not(.products)"):1===$pIsotopeContainer?($firstTimeLoad=!1,$pIsotopeContainer=$(".portfoliowrap .isotope:not(.products)")):2===$pIsotopeContainer?($firstTimeLoad=!1,$pIsotopeContainer=$(".vc_active .portfoliowrap .isotope:not(.products)")):($firstTimeLoad=!1,$pIsotopeContainer=$($pIsotopeContainer)),$pIsotopeContainer.each(function(){var $this=$(this);if($this.parents(".fullWidth").length){var $portfolio_fullwidth=!0;$this.parents(".fullWidth").find(".vc_col-sm-12").css({"padding-right":"0px","padding-left":"0px"})}var $uniqueId=parseInt($(this).closest(".portfolioSection").attr("data-id")),$portfolioID="#portfolio_".concat($uniqueId),isotopeItem=$(".isotope-item"),$portfoliostyle=$this.parents(".portfolioSection").attr("data-portfolio-type"),$portfolioLayout=$this.parents(".portfolioSection").attr("data-layout-style");isotopeItem.css({"margin-left":0,"margin-right":0});var getColWidthValue,setColNum=function(){return 1==$portfolio_fullwidth?self.windowWidth>1360?6:self.windowWidth>999?4:2:self.windowWidth>1200?4:self.windowWidth>999?4:2};getColWidthValue=function(){if(1==$portfolio_fullwidth)$device_width=self.$window.width(),self.$body.hasClass("vertical_menu_enabled")&&self.windowWidth>1140&&($device_width-=255);else if($this.parents(".vc_tta-panel-body").length>0)$device_width=$this.parents(".vc_tta-panel-body").width();else var $device_width=$this.parents(".container").width();if(self.$body.height()>self.windowHeight)w=$device_width;else if(self.windowWidth>1140)w=$device_width;else var w=$device_width;"portfolio_space"!=$portfoliostyle&&"portfolio_text"!=$portfoliostyle||$($this.parents(".fullWidth")).length&&(w-=13);var columnNum=setColNum();return Math.floor(w/columnNum)}();var callIsotope=function(){var colWidth=getColWidthValue,$textPortfolioMetaHeight=0,$portfoliostyle=$this.parents(".portfolioSection").attr("data-portfolio-type"),$portfolioLayout=$this.parents(".portfolioSection").attr("data-layout-style");"portfolio_text"==$portfoliostyle&&($textPortfolioMetaHeight=77,$textPortfolioMetaHeight+=colWidth/2),$this.parents(".vc_tta-panel").length&&!$this.parents(".vc_tta-panel.vc_active").length||(self.windowWidth>=768&&"masonry"!=$portfolioLayout?$this.isotope({itemSelector:".isotope-item",layoutMode:"perfectMasonry",perfectMasonry:{layout:"vertical",columnWidth:colWidth,gutterWidth:20,rowHeight:colWidth/2+$textPortfolioMetaHeight}}):$this.isotope({itemSelector:".isotope-item",layoutMode:"masonry"}),self.isotopeAnimation($this))};if(function($isotopeItem){var colWidth=getColWidthValue,gutterpadding=0;"portfolio_space"!=$portfoliostyle&&"portfolio_text"!=$portfoliostyle||(gutterpadding=15);var $textPortfolioMetaHeight=0;"portfolio_text"==$portfoliostyle&&($textPortfolioMetaHeight=77);var columnNum=setColNum();$this.find(".isotope-item").each(function(){var $brick=$(this),$brickphoto=$brick.find(".postphoto");if("masonry"==$portfolioLayout)$brickphoto.css({width:colWidth-gutterpadding+"px"});else if($brick.hasClass("big"))self.windowWidth>979?$brickphoto.css({width:2*colWidth-gutterpadding+"px",height:2*colWidth-gutterpadding+$textPortfolioMetaHeight+"px"}):self.windowWidth>=768?$brickphoto.css({width:colWidth-gutterpadding+"px",height:colWidth-gutterpadding+"px"}):$brickphoto.css({width:2*colWidth-gutterpadding+"px",height:2*colWidth-gutterpadding+"px"});else if($brick.hasClass("wide")){var factor=4;self.windowWidth<=999&&(factor=2),$brickphoto.css({width:colWidth*columnNum-gutterpadding+"px",height:colWidth*columnNum/factor-gutterpadding+"px"})}else $brick.hasClass("slim")?self.windowWidth>979?$brickphoto.css({width:colWidth-gutterpadding+"px",height:2*colWidth-gutterpadding+$textPortfolioMetaHeight+"px"}):self.windowWidth>=768?$brickphoto.css({width:colWidth-gutterpadding+"px",height:2*colWidth-gutterpadding+$textPortfolioMetaHeight+"px"}):$brickphoto.css({width:2*colWidth-gutterpadding+"px",height:3*colWidth-gutterpadding+"px"}):$brick.hasClass("hslim")?$brickphoto.css({width:2*colWidth-gutterpadding+"px",height:colWidth-gutterpadding+"px"}):self.windowWidth>=768?$brickphoto.css({width:colWidth-gutterpadding+"px",height:colWidth-gutterpadding+"px"}):$brickphoto.css({width:2*colWidth-gutterpadding+"px",height:2*colWidth-gutterpadding+"px"})})}($this.find(".isotope-item")),callIsotope(),!0===$firstTimeLoad){if(self.windowWidth>979)$pFilterItem=$portfolioID.concat(" .filters .filter_item");else var $pFilterItem=$portfolioID.concat(" .filterstablet .filter_item");$portfolioID.concat(" .isotope");var $pFilterToggle=$portfolioID.concat(" .filterToggle"),$pFilter=$portfolioID.concat(" .filters"),i=0;$($pFilterToggle).click(function(){$(this).toggleClass("closed"),$($pFilter).removeClass("toggleClicked").addClass("toggleClicked"),$($pFilter).toggleClass("openToggle"),i++}),$($pFilterItem).click(function(e){e.preventDefault(),$($pFilter).removeClass("toggleClicked");var $pFilterText=$portfolioID.concat(" .portfolio-filter span.text");$($pFilterItem).removeClass("active");var $selector=$(this).attr("data-filter");return $($pFilterItem).each(function(){$(this).attr("data-filter")==$selector&&$(this).addClass("active")}),$this.hasClass("fadeInFromBottom")||$this.hasClass("fadeInFromTop")||$this.hasClass("fadeInFromRight")||$this.hasClass("fadeInFromLeft")||$this.hasClass("zoomIn")?($this.find(".postphoto").addClass("categoryReload"),$this.find(".portfolio_text_meta ").removeClass("textVisiblity"),$this.hasClass("slideIn")&&$this.find(".postphoto").css({transform:"scale(.4)","transition-delay":"0s"}),$this.find(".postphoto").removeClass("isAnimated"),$this.find(".postphoto").removeClass("isEaseInAnimated"),$this.find(".postphoto").removeClass("isZoomInAnimated"),setTimeout(function(){$this.isotope({filter:$selector},function(){$this.hasClass("slideIn")&&$this.find(".postphoto").css({transform:"translate3d(0,100px,0)","transition-delay":"0s"}),$this.find(".postphoto").removeClass("categoryReload"),self.isotopeAnimation($this)})},300)):$this.isotope({filter:$selector}),$($pFilterText).html($(this).html()),self.parallaxImg(),!1})}}),$(".filterstablet").click(function(e){$(this).toggleClass("responsive_filter_dropdown")}),$(".filterstablet .cat-item").click(function(e){$(".filterstablet").toggleClass("responsive_filter_dropdown")}),$("body").click(function(e){$(e.target).is("ul.filterstablet, ul.filterstablet *")||$(".filterstablet").addClass("responsive_filter_dropdown")})},portfolioDHashChange:function(){var self=this;self.$window.bind("hashchange",function(){self.pDInitialize(),self.pageRefresh=!1})},pDInitialize:function(){var self=this,root="#!portfolio-detail/",rootLength=root.length,hash=$(window.location).attr("hash"),portfolioGrid=$("#isotopePortfolio");if(hash.substr(0,rootLength)==root&&(self.projectContainer=$("#portfolioDetailAjax"),self.projectContainer.length)){$(".portfolioSection #loader");self.pDError=$("#pDError"),self.pDetailNav=$(".navWrap"),hash=$(window.location).attr("hash");var href=location.href.replace(location.hash,"");if(hash.substr(0,rootLength)==root){var url=(hash=$(window.location).attr("hash")).replace(/[#\!]/g,"");portfolioGrid.find(".ajaxPDetail .isotope-item.current").removeClass("current"),1==self.pageRefresh&&hash.substr(0,rootLength)==root?$("html,body").stop().animate({scrollTop:self.projectContainer.offset().top+"px"},800,"easeOutExpo",function(){self.loadPortfolioDetail(url,href),self.pDetailNav.fadeOut("100")}):0==self.pageRefresh&&hash.substr(0,rootLength)==root&&$("html,body").stop().animate({scrollTop:self.projectContainer.offset().top+"px"},800,"easeOutExpo",function(){0==self.content?self.loadPortfolioDetail(url,href):self.projectContainer.animate({opacity:0,height:self.wrapperHeight},function(){self.loadPortfolioDetail(url,href)}),self.pDetailNav.fadeOut("100")}),portfolioGrid.find('.ajaxPDetail .isotope-item a[href$="'+hash+'"]').parents(".isotope-item").addClass("current")}}},loadPortfolioDetail:function(url,href){var self=this,loader=$(".portfolioSection #loader");$("#portfolioDetailAjax").height()<500&&self.projectContainer.animate({height:"500px"},{queue:!1,duration:250}),loader.css("top",self.windowHeight/2+"px").fadeIn(),url=url.replace("portfolio-detail/",""),url=epico_theme_vars.url+"?portfolio="+url+"&inner=1 #portfoliSingle",self.ajaxLoading||(self.ajaxLoading=!0,self.projectContainer.load(url,function(xhr,statusText,request){"success"==statusText&&(self.ajaxLoading=!1,self.pDError.hide(),$("#portfoliSingle").waitForImages(function(){self.pDSwiper(),self.hideLoader(),self.Social_link(),self.homeHeight()}),self.fitVideo(),self.epico_shortcode(!1),self.shortcodeAnimation(),self.social_share_pop_up()),"error"==statusText&&(self.pDError.show(),self.hideLoader())}))},portfolioDetailNavigationLoading:function(){var self=this;if(self.$body.hasClass("single-portfolio")){self.$body.hasClass("ajax_page_transition")||void 0!==window.sessionStorage&&(self.$skills=window.sessionStorage.getItem("skills"),self.$portfolioBackLink=window.sessionStorage.getItem("portfolioBackLink"),self.$portfolioID=window.sessionStorage.getItem("pid")),self.$skills==undefined&&(self.$skills="all",self.$portfolioBackLink=undefined,self.$portfolioID=self.$body.data("pageid")),self.$portfolioBackLink==undefined&&(self.$portfolioBackLink=epico_theme_vars.home_url);var requestActionName="load_pd_navigation";self.$body.find(".portfolio_detail_creative").length>0&&(requestActionName="load_cpd_navigation"),$.ajax({url:epico_theme_vars.ajax_url,data:{action:requestActionName,pid:self.$portfolioID,skill_ids:self.$skills,back_url:self.$portfolioBackLink,security:epico_theme_vars.nonce},async:!1,success:function(data){self.$body.find("#PDnavigation").css("display","block").html(data),self.$body.find(".home").addClass("hide-home"),self.$body.hasClass("ajax_page_transition")?self.reInitDjax():self.portfolio_next_prev()}})}},hideLoader:function(){var self=this;$(".portfolioSection #loader").delay(400).fadeOut("fast",function(){self.showProject()})},showProject:function(){var self=this,portfolioGrid=$("#isotopePortfolio");0==self.content?(self.wrapperHeight=self.projectContainer.children("#portfoliSingle").outerHeight()+"px",self.projectContainer.animate({opacity:1,height:self.wrapperHeight},function(){$("html,body").scrollTop();self.pDetailNav.fadeIn(400),self.content=!0,self.parallaxImg()})):(self.wrapperHeight=self.projectContainer.children("#portfoliSingle").outerHeight()+"px",self.projectContainer.animate({opacity:1,height:self.wrapperHeight},function(){$("html,body").scrollTop();self.pDetailNav.fadeIn(400),self.parallaxImg()}));var portfolioIndex=portfolioGrid.find(".ajaxPDetail .isotope-item.current").index();portfolioIndex==$(".ajaxPDetail .isotope-item").length-1?($(".pDNavigation .next").css("display","none"),$(".pDNavigation .previous").css("display","block")):0==portfolioIndex?($(".pDNavigation .previous").css("display","none"),$(".pDNavigation .next").css("display","block")):$(".pDNavigation .next,.pDNavigation .previous").css("display","block"),$(".pDHeader-title").addClass("bg-animated active")},deletePortfolioDetail:function(){var self=this,portfolioGrid=$("#isotopePortfolio");self.projectContainer.animate({height:"0px"},{queue:!1,duration:1e3,complete:function(){self.projectContainer.empty(),self.parallaxImg()}}),self.projectContainer.animate({opacity:0},{queue:!1,duration:600}),self.pDetailNav.fadeOut(600),self.parallaxImg(),location="#_",portfolioGrid.find(".ajaxPDetail .isotope-item.current").removeClass("current")},pDNavigationNext:function(){var portfolioGrid=$("#isotopePortfolio");$(".pDNavigation .next").click(function(e){var current=portfolioGrid.find(".ajaxPDetail .isotope-item.current"),next=current.next(".ajaxPDetail .isotope-item"),target=$(next).find("a.overlay").attr("href");if($(this).attr("href",target),location=target,0===next.length)return!1;current.removeClass("current"),next.addClass("current")})},Social_link:function(){0==$(".woocommercepage").length&&0==$(".social_share_toggle").parents("div.product").length&&$(".social_share_toggle").find(".social_links_list").addClass("openToggle")},pDNavigationPrevious:function(){var portfolioGrid=$("#isotopePortfolio");$(".pDNavigation .previous").click(function(e){var current=portfolioGrid.find(".ajaxPDetail .isotope-item.current"),prev=current.prev(".ajaxPDetail .isotope-item"),target=$(prev).find("a.overlay").attr("href");if($(this).attr("href",target),location=target,0===prev.length)return!1;current.removeClass("current"),prev.addClass("current"),e.preventDefault()})},pDCloseProject:function(){var self=this,loader=$(".portfolioSection #loader");$("#PDclosePortfolio").click(function(e){self.deletePortfolioDetail(),loader.fadeOut(),e.preventDefault()})},portfolioLoadMore:function(){var self=this,$index=0,$nextPageIndex=[],$maxPPgae=[];$(".portfolioSection").each(function(){$(this).attr("data-index",$index);$(this).attr("data-value");var $uniqueId=$(this).attr("data-id"),$pLoadMore=".pLoadMore_".concat($uniqueId),$pLoadMoreBtnWrap=$(this).find($pLoadMore),$startPage=$(this).attr("data-startPage"),$maxPages=$(this).attr("data-maxPages"),$nextLink=$(this).attr("data-nextLink");if(!($pLoadMoreBtnWrap.length<1)){var startPage=parseInt($startPage);$nextPageIndex[$index]=startPage+1,$maxPPgae[$index]=parseInt($maxPages);var isLoading=!1,$pLoadMoreBtn=$pLoadMoreBtnWrap.find(".loadMore");if(parseInt($maxPPgae[$index].toString())<2)$pLoadMoreBtnWrap.fadeOut("fast");else{$pLoadMoreBtn.removeClass("loadingactive").addClass("loadmoreactive"),parseInt($nextPageIndex[$index].toString())>parseInt($maxPPgae[$index].toString())&&$pLoadMoreBtn.closest(".pLoadMore").fadeOut("fast");$pLoadMoreBtn.click(function(){var $dataIndex=parseInt($(this).closest(".portfolioSection").attr("data-index"));if(!(parseInt($nextPageIndex[$dataIndex].toString())>parseInt($maxPPgae[$dataIndex].toString())||isLoading)){isLoading=!0,$uniqueId=$(this).attr("data-id");var $portfolioLoop="#pLoop_".concat($uniqueId),$pagedNum="paged_".concat($uniqueId),$pItemsWrap=$portfolioLoop;$pLoadMoreBtn.removeClass("loadmoreactive").addClass("loadingactive");var $pageContainer=$('<div class="loadItemsWrap"></div>');$nextLink=$nextLink.replace(/\/page\/[0-9]+/,"/?"+$pagedNum+"="+parseInt($nextPageIndex[$dataIndex].toString())),$nextLink=$nextLink.replace(/paged=[0-9]+/,$pagedNum+"="+parseInt($nextPageIndex[$dataIndex].toString())),$nextLink=$nextLink.replace(/paged_[0-9]+=[0-9]+/,$pagedNum+"="+parseInt($nextPageIndex[$dataIndex].toString())),$pageContainer.load($nextLink+" "+$portfolioLoop+" .isotope-item",function(){if(($pageContainer=$pageContainer.find(".isotope-item").unwrap()).appendTo($pItemsWrap),$nextPageIndex[$dataIndex]++,/\/page\/[0-9]+/.test($nextLink))$nextLink=$nextLink.replace(/\/page\/[0-9]+/,"/page/"+parseInt($nextPageIndex[$dataIndex].toString()));else{var str1=$pagedNum.concat("=[0-9]+"),re=new RegExp(str1);$nextLink=$nextLink.replace(re,$pagedNum+"="+parseInt($nextPageIndex[$dataIndex].toString()))}parseInt($nextPageIndex[$dataIndex].toString())<=parseInt($maxPPgae[$dataIndex].toString())?$pLoadMoreBtn.removeClass("loadingactive").addClass("loadmoreactive"):parseInt($nextPageIndex[$dataIndex].toString())>parseInt($maxPPgae[$dataIndex].toString())&&$pLoadMoreBtn.closest(".pLoadMore").fadeOut("fast"),isLoading=!1;var $items=$($pItemsWrap).find(".isotope-item"),$container=$($pItemsWrap).closest(".isotope");$container.isotope("appended",$items,function(){$container.isotope("reLayout")});var $pIsotopeContainer="#portfolio_".concat($uniqueId).concat(" .isotope");self.portfolioIsotope($pIsotopeContainer),self.parallaxImg(),self.portfolioSlider(),self.social_share_pop_up(),self.reInitDjax(),self.lazyLoadOnLoad($container),self.$document.find(".ep_lightGallery").each(function(){$(this).data("lightGallery").destroy(!0)}),self.galleryStart()})}}),$index++}}})},animationDelay:function(counter,$selector){return.2*counter},setAnimationForItems:function($container,$items,$item,$delay){$container.hasClass("fadeInFromBottom")||$container.hasClass("fadeInFromTop")||$container.hasClass("fadeInFromRight")||$container.hasClass("fadeInFromLeft")?($container.find("ul li").addClass("isEaseInAnimated"),$item.addClass("isAnimated"),$item.css({"transition-delay":$delay+"s"})):$container.hasClass("zoomIn")?($container.find(".postphoto").addClass("isZoomInAnimated"),$item.addClass("isAnimated"),$item.css({"transition-delay":$delay+"s"})):$container.hasClass("default")&&($container.find(".postphoto").addClass("isDefault"),$item.addClass("isAnimated"))},isotopeAnimation:function($container){var self=this,counter=0;(self.isMobile||self.isTablet)&&$container.hasClass("no-responsive-animation")||$container.find(".isotope-item").not(".isotope-hidden").find(".postphoto,.blog_item").not(".isAnimated").waypoint({handler:function(){$(this.element).each(function(){var $item=$(this);setTimeout(function(){var delay=self.animationDelay(counter,$item),$allItems=$container.find(".postphoto");self.setAnimationForItems($container,$allItems,$item,delay),$item.siblings(".portfolio_text_meta").css({"transition-delay":delay+"s"}),setTimeout(function(){$item.siblings(".portfolio_text_meta").addClass("textVisiblity")},500),counter+=1},50),counter=0}),this.destroy()},offset:"95%"})},instagramAnimation:function(){var self=this,instagramAnimationBase=function($container){var $selector,counter=0;$selector=$container.find("ul").hasClass("instagram-carousel")?".swiper-slide-visible:not(.isAnimated)":"ul li:not(.isAnimated)",$container.find($selector).waypoint({handler:function(){$(this.element).each(function(){var $item=$(this);setTimeout(function(){var delay=self.animationDelay(counter,$item),$allItems=$container.find("ul li");self.setAnimationForItems($container,$allItems,$item,delay),counter+=1},50),counter=0}),this.destroy()},offset:"95%"})};$("#main .instagram-feed").each(function(){var $container=$(this);if((self.isMobile||self.isTablet)&&$container.hasClass("no-responsive-animation"))return!0;instagramAnimationBase($container)}),$(".toggleSidebar .instagram-feed").removeClass("fadeInFromBottom fadeInFromTop fadeInFromRight fadeInFromLeft zoomIn")},showAnimation:function($container,$carousel){var $duplicateSlider,self=this,counter=0,showAnimationBase=function(that){$(that).each(function(){var $delay;setTimeout(function(){$container.hasClass("fadeInFromBottom")||$container.hasClass("fadeInFromTop")||$container.hasClass("fadeInFromRight")||$container.hasClass("fadeInFromLeft")?($container.find(".productwrap , .swiper-slide").addClass("isEaseInAnimated"),$(that).addClass("isAnimated"),$delay=.3*counter,$(that).css({"transition-delay":$delay+"s"})):$container.hasClass("zoomIn")?($container.find(".productwrap , .swiper-slide").addClass("isZoomInAnimated"),$(that).addClass("isAnimated"),$delay=.2*counter,$(that).css({"transition-delay":$delay+"s"})):($container.find(".productwrap , .swiper-slide").addClass("fadeIn"),$(that).addClass("isAnimated"),$delay=.2*counter,$(that).css({"transition-delay":$delay+"s"})),counter+=1},50),counter=0})},setAnimationBaseForDuplicatSlides=function($that){$that.css({"transition-delay":"0s"}),$that.addClass("isAnimated"),$container.hasClass("fadeInFromBottom")||$container.hasClass("fadeInFromTop")||$container.hasClass("fadeInFromRight")||$container.hasClass("fadeInFromLeft")?$container.find(".productwrap , .swiper-slide").addClass("isEaseInAnimated"):$container.hasClass("zoomIn")?$container.find(".productwrap , .swiper-slide").addClass("isZoomInAnimated"):$container.find(".productwrap , .swiper-slide").addClass("fadeIn")};if((self.isMobile||self.isTablet)&&$container.hasClass("no-responsive-animation"))return!0;if(1==$carousel){if(!$container.find("li.product").hasClass("swiper-slide-visible"))return 0;$container.find(".swiper-slide-visible .productwrap:not(.isAnimated)").waypoint({handler:function(){var $item=$(this.element);$duplicateSlider=$item.closest("li").siblings('li[data-swiper-slide-index="'+$item.closest("li").data("swiper-slide-index")+'"]').find(".productwrap"),$container=$item.parents(".woocommerce.wc-shortcode"),showAnimationBase($item),setAnimationBaseForDuplicatSlides($duplicateSlider),this.destroy()},offset:"95%"})}else if(2==$carousel){if(!$container.find("div.swiper-slide").hasClass("swiper-slide-visible"))return 0;$container.hasClass("hasAnimation")&&$container.find(".swiper-slide-visible:not(.isAnimated)").waypoint({handler:function(){var $item=$(this.element);$duplicateSlider=$item.siblings('div[data-swiper-slide-index="'+$item.data("swiper-slide-index")+'"]'),$container=$item.parents(".carousel"),showAnimationBase($item),setAnimationBaseForDuplicatSlides($duplicateSlider),this.destroy()},offset:"95%"})}else if(3==$carousel){if(!$container.find("li.insta-media").hasClass("swiper-slide-visible"))return 0;$container.hasClass("hasAnimation")&&$container.find(".swiper-slide-visible:not(.isAnimated)").waypoint({handler:function(){var $item=$(this.element);$duplicateSlider=$item.siblings('li[data-swiper-slide-index="'+$item.data("swiper-slide-index")+'"]'),$container=$item.parents(".carousel"),showAnimationBase($item),setAnimationBaseForDuplicatSlides($duplicateSlider),this.destroy()},offset:"95%"})}else $container.hasClass("main-shop-loop")||($container=$container.closest(".woocommerce.wc-shortcode")),$container.hasClass("default")||$container.find(".productwrap:not(.isAnimated)").waypoint({handler:function(){var $item=$(this.element);showAnimationBase($item),this.destroy()},offset:"95%"})},lazyLoadOnLoad:function(that){var $lazyLoadCntainers=$(that).find(".lazy-load-on-load");$lazyLoadCntainers.length>0&&$lazyLoadCntainers.each(function(){var $this=$(this);if(!$this.hasClass("lazy-loaded")&&!$this.hasClass("is-loading")){$this.addClass("is-loading");var $img,src;$this.hasClass("bg-lazy-load")?src=$this.data("src"):($img=$this.find("img"),src=$img.data("src"));var img=new Image;img.onload=function(){$this.hasClass("bg-lazy-load")?$this.css("background-image","url("+src+")").removeAttr("data-src"):$img.attr("src",src).removeAttr("data-src"),setTimeout(function(){$this.addClass("lazy-loaded")},100)},img.src=src}})},lazyLoadOnHover:function(){this.isTouchDevice||$(".lazy-load-hover-container").on("mouseenter",function(){var $this=$(this).find(".lazy-load-hover");if($this.length>0&&!$this.hasClass("lazy-loaded")&&!$this.hasClass("is-loading")){$this.addClass("is-loading"),$this.closest(".lazy-load-hover-container").addClass("is-loading");var $img,src;$this.hasClass("bg-lazy-load")?src=$this.data("src"):($img=$this.find("img"),src=$img.data("src"));var img=new Image;img.onload=function(){$this.hasClass("bg-lazy-load")?$this.css("background","url("+src+")").removeAttr("data-src",""):$img.attr("src",src).removeAttr("data-src",""),$this.closest(".lazy-load-hover-container").removeClass("is-loading"),setTimeout(function(){$this.addClass("lazy-loaded")},100)},img.src=src}})},abortImageLoading:function(){$(".lazy-load.is-loading:not(.lazy-loaded) img").attr("src","")},runIsotopeInProducts:function($mainContainer){var self=this,getColWidthProduct=function($container){var device_width,setContainereWidth=!0;if($container.hasClass("fullwidthshop"))var $product_fullwidth=!0;1==$product_fullwidth?$container.parents(".wc-ajax-content").length>0&&(device_width=$container.parents(".wc-ajax-content").width()):$container.parents(".vc_tta-panel-body").length>0?device_width=$container.find(".woocommerce").width():$container.parents(".wpb_wrapper").length?device_width=$container.parents(".wpb_wrapper").width():$container.parents(".wc-ajax-content").length&&(device_width=$container.parents(".wpb_wrapper").width(),setContainereWidth=!1);var columnNum,w=device_width;return columnNum=$container.hasClass("shop-5column")?5:$container.parent().hasClass("shop-4column")?4:$container.parent().hasClass("shop-3column")?3:2,self.windowWidth<=1140&&(columnNum>3&&(columnNum=3),self.windowWidth>767&&self.windowWidth<=979?columnNum>2&&(columnNum=2):self.windowWidth<=767&&(columnNum=1)),1==setContainereWidth&&$container.width(w),Math.floor(w/columnNum)};$mainContainer===undefined&&($mainContainer=self.$body),$mainContainer.find(".woocommerce.wc-shortcode:not(.carousel) .products, .products.main-shop-loop").each(function(){var $container=$(this);$container.css("width","");getColWidthProduct($container);var layout="fitrows";"fitRows"!=(layout=$container.is(".main-shop-loop")?$container.data("layoutmode"):$container.parent().data("layoutmode"))&&(layout="masonry"),$container.isotope({itemSelector:".product",layoutMode:layout},function(){self.showAnimation($container)})})},epico_shortcode:function($comesfromtab){var self=this;self.testimonial(),self.piechart(),self.countdown(),self.counterBox(),self.fullWidthSection(),self.faq(),self.progressbar(),self.showcase(),self.custom_textbox(),self.customTitleParallax(),1!=$comesfromtab&&self.tabs_tour_accordion()},initVideoBackground:function(){var self=this;if("function"==typeof $.fn.mediaelementplayer){$(".video").mediaelementplayer({enableKeyboard:!1,iPadUseNativeControls:!1,pauseOtherPlayers:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","progress","current","duration","tracks","volume","fullscreen"],success:function(mediaElement,domObject){$(".mejs-poster").addClass("fadeIn")}}),navigator.userAgent.match(/(Android|iPod|iPhone|iPad|IEMobile|Opera Mini)/)&&(self.videoBackgroundSize(),$(".videoHomePreload").show(),$(".videoWrap").remove());var $play_button=$(".inline_video.video_embed_container .play-button");$(".inline_video.video_embed_container .play-button").remove();var $mejs_poster=$(".mejs-poster");$play_button.appendTo($mejs_poster)}},product_gallery_popup_lightGallery:function(){if(!("function"!=typeof $.fn.lightGallery||$("#product-fullview-thumbs .enable-popup").length<=0)){var $product_popup_gallery=$("#product-fullview-thumbs");$product_popup_gallery.lightGallery({selector:".enable-popup",getCaptionFromTitleOrAlt:!1}),$(".popup-button").on("click",function(){$product_popup_gallery.find(".swiper-slide").trigger("click.lgcustom")}),$product_popup_gallery.on("onSlideClick.lg",function(){$product_popup_gallery.data("lightGallery").goToNextSlide()})}},embed_video_lightgallery:function(){$(".video_embed_container").each(function(i){var $this=$(this),$video_embed_id=$this.attr("id");"function"==typeof $.fn.lightGallery&&$this.not(".inline_video").lightGallery({counter:!1,addClass:"videoPopUp",galleryId:$video_embed_id})})},carousel_gallery:function(){"function"!=typeof $.fn.lightGallery||$(".carousel_gallery").length<=0||$(".carousel_gallery").lightGallery({thumbnail:!0,selector:".galleryCarouselLink"})},videoBackgroundSize:function(){$(".videoWrap").each(function(i){var $sectionWidth=$(this).closest(".videoHome ").outerWidth(),$vcVideoWrap=$(this).parents(".vc_videowrap");if($vcVideoWrap.length){$sectionHeight=$vcVideoWrap.find(".vc_videocontent").outerHeight();$(this).width($sectionWidth),$vcVideoWrap.height($sectionHeight)}else{var $sectionHeight=$(this).closest(".videoHome").outerHeight();$(this).width($sectionWidth),$(this).height($sectionHeight)}var scale_h=$sectionWidth/1280,scale_v=$sectionHeight/720,scale=scale_h>scale_v?scale_h:scale_v,minVideoWidth=1280/720*($sectionHeight+20);1280*scale<minVideoWidth&&(scale=minVideoWidth/1280),$(this).find("video").width(Math.ceil(1280*scale+2)),$(this).find("video").height(Math.ceil(720*scale+2)),$(this).scrollLeft(($(this).find("video").width()-$sectionWidth)/2),$(this).find(".mejs-overlay, .mejs-poster").scrollTop(($(this).find("video").height()-$sectionHeight)/2),$(this).scrollTop(($(this).find("video").height()-$sectionHeight)/2)})},pageTopSpace:function(){var topbarHeight=0;return $("#topbar").length&&(topbarHeight=33),$("header").hasClass("type2_3")?125+topbarHeight:$("header").hasClass("type4_5_6")?85+topbarHeight:58+topbarHeight},minPageHeightSet:function(){var self=this;if(self.windowWidth>1140){var $pageFooterHeight=$(".footer-bottom").height(),topbarHeight=$("#topbar").height();$("#googleMap").length&&($pageFooterHeight+=$("#googleMap").height()),$(".footer-widgetized").length&&($pageFooterHeight+=$(".footer-widgetized").height());var $pageMainHeight2;$("#fullScreenSlider").length<=0&&$("#blogSingle").length<=0?($("#main").height()+$pageFooterHeight,$pageMainHeight2=self.windowHeight-$pageFooterHeight-topbarHeight,$("#main").css({"min-height":$pageMainHeight2+"px"})):$("#blogSingle").length?($("#blogSingle").height()+$pageFooterHeight,$pageMainHeight2=self.windowHeight-$pageFooterHeight-topbarHeight,$("#blogSingle").css({"min-height":$pageMainHeight2+"px"})):$("#main").css({"min-height":"0px"})}},socailshare:function(){var po=document.createElement("script");po.type="text/javascript",po.async=!0,po.src="https://apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)},social_share_pop_up:function(){$(".social_links a, .socialShareContainer a").click(function(e){e.preventDefault();var $url=$(this).attr("href"),$title=$(this).attr("title"),newwindow=window.open($url,$title,"height=300,width=600");return window.focus&&newwindow.focus(),!1})},wpml_menu:function(){$(".headerWrap .menu-item-language").length&&$(".headerWrap .menu-item-language").append($("<span class='spanHover'></span>"))},showcase_height:function(){var self=this;if(!(self.windowWidth<=1140)){var $showcase_wrapper=$(".showcase").find(".showcase-content-wrapper"),$empty_space=self.windowHeight-$showcase_wrapper.height();if(self.$body.hasClass("has-topbar")&&!self.$body.hasClass("snap-to-scroll"))$showcaseHeight=self.windowHeight-33;else var $showcaseHeight=self.windowHeight;$(".showcase").css({height:$showcaseHeight}),$empty_space>=0&&$showcase_wrapper.css({"margin-top":$empty_space/2+30+"px"})}},showcase_appear:function(){var self=this;$(".showcase").each(function(){var $showcase_item=$(this);if("kunburn"==$showcase_item.data("effect"))if(self.windowWidth<=1140)$showcase_item.find(".showcase-bg").removeClass("bg-animated active"),$showcase_item.find(".showcase-item").removeClass("active"),$showcase_item.find(".item-list li").removeClass("active"),$showcase_item.find(".showcase-bg").first().addClass("bg-animated active"),$showcase_item.find(".showcase-item").first().addClass("active"),$showcase_item.find(".item-list li").first().addClass("active");else{$showcase_item.addClass("show");new Waypoint.Inview({element:$showcase_item,enter:function(){var $item=$(this.element);$item.find(".firstactive").length>0?$item.find(".firstactive").removeClass("firstactive"):$item.find(".showcase-bg").removeClass("bg-animated active"),$item.find(".showcase-item").removeClass("active"),$item.find(".item-list li").removeClass("active"),$item.find(".showcase-item").first().addClass("active"),$item.find(".item-list li").first().addClass("active"),setTimeout(function(){$item.find(".showcase-bg").first().addClass("bg-animated active")},50)},offset:"95%"})}else $showcase_item.find(".firstactive").removeClass("firstactive"),$showcase_item.addClass("show"),$showcase_item.find(".showcase-bg").first().addClass("active"),$showcase_item.find(".showcase-item").first().addClass("active"),$showcase_item.find(".item-list li").first().addClass("active"),self.epico_interactive_background($showcase_item,{target:"> .showcase-backgrounds .showcase-bg",sensitivity:80,zoom:!1,initialZoom:!0})})},showcase:function(){var self=this;if($(".showcase").length){self.showcase_height(),self.showcase_appear(),self.epico_scrollbar($(".showcase").find(".item-content p")),$(".showcase .next-showcase a").click(function(e){e.preventDefault();var $next_section=$(this).parents(".showcase").nextAll(".showcase").first();$next_section.length||($next_section=$(this).parents(".showcase").parent().parent().nextAll("div").first().find(".showcase")),$next_section.length||($next_section=$(this).parents(".ep-section").nextAll(".ep-section").first()),$next_section.length||($next_section=$(this).parents(".customSection").nextAll(".customSection").first()),$next_section.length&&self.scroll_to($next_section,5)}),$(".showcase").each(function(){var $showcase=$(this),$showcase_effect=$showcase.data("effect"),$backgrounds=$showcase.find(".showcase-backgrounds"),$contents=$showcase.find(".showcase-items"),$items_list=$showcase.find(".item-list li");$items_list.on("hover",function(){var $this=$(this);if(!$this.hasClass("active")){var $bgid=$this.data("bg-id");$items_list.removeClass("active"),$this.addClass("active");var $prev_bg_item=$backgrounds.find(".active"),$next_bg_item=$backgrounds.find('[data-bg-id="'+$bgid+'"]');if($prev_bg_item.removeClass("active"),"kunburn"==$showcase_effect){var $direction=Array("left-top","left-bottom","right-top","right-bottom"),$random_dir=$direction[Math.floor(Math.random()*$direction.length)];$next_bg_item.addClass("active bg-animated "+$random_dir),setTimeout(function(){$prev_bg_item.removeClass("bg-animated left-top left-bottom right-top right-bottom")},600)}else $next_bg_item.addClass("active");var $prev_content_item=$contents.find(".active");$contents.find('[data-bg-id="'+$bgid+'"]').addClass("active"),$prev_content_item.removeClass("active")}})});var slidesPerView=4;self.windowWidth<=1140&&(slidesPerView=3),$(".showcase .item-pics .swiper-container").each(function(){new Swiper($(this),{slidesPerView:slidesPerView,speed:700,paginationClickable:!0,spaceBetween:2,grabCursor:!0})}),$(".showcase .swiper-button-next").on("click",function(e){e.preventDefault(),$(this).siblings(".swiper-container")[0].swiper.slideNext()}),$(".showcase .swiper-button-prev").on("click",function(e){e.preventDefault(),$(this).siblings(".swiper-container")[0].swiper.slidePrev()})}},custom_textbox:function(){$(".custom-textbox").waypoint({handler:function(){$(this.element).addClass("bg-animated active"),this.destroy()},offset:"95%"})},customTitleParallax:function(){var self=this;if(!($(".custom-title").length<=0||self.msie>0||self.msie11||self.windowWidth<=1140||self.isTouchDevice)){var $titles=$(".custom-title");self.windowHeight=self.$window.height();var scrollPosition=0,parallax_handler=function(){$titles.each(function(){var $el=$(this),elementTop=$el.data("offsetTop"),factorMult=0,offsetDiff=elementTop-scrollPosition;factorMult=1-(self.windowHeight/3-offsetDiff)/(self.windowHeight/3)*1.1,offsetDiff<self.windowHeight/3&&factorMult>=0&&factorMult<=1&&$el.css({opacity:factorMult});var $parallaxed_Shape=$(this).find(".shape-container");$parallaxed_Shape.length&&(factorMult=.15*(elementTop-scrollPosition-self.windowHeight/4),elementTop<self.windowHeight/4?(factorMult+=self.windowHeight/16,$parallaxed_Shape.css({transform:"translate3d(0,"+factorMult+"px,0)"})):factorMult>-10&&$parallaxed_Shape.css({transform:"translate3d(0,"+factorMult+"px,0)"}))})},parallax_init=function(){$titles.each(function(){var $el=$(this);$el.find(".title >span").length&&$el.data("offsetTop",$el.find(".title >span").offset().top)})},requestTick=function(){parallax_init(),scrollPosition=self.$window.scrollTop(),window.requestAnimationFrame(parallax_handler)},resizeHandler=function(){self.windowHeight=self.$window.height(),parallax_init()};parallax_init(),parallax_handler(),self.$window.on("scroll",requestTick).resize(resizeHandler),self.$window.one("djaxClick",function(){self.$window.unbind("scroll",requestTick).unbind("resize",resizeHandler)})}},vcGridReInit:function(){$.fn.vcGrid&&$.fn.vcGrid.call($("[data-vc-grid-settings]"))},fix_IOS_double_tap_issue:function(){if(navigator.platform.match(/(iPhone|iPod|iPad)/i)){var $elements=$(".buttons, .carousel .arrows-button-prev, .carousel .arrows-button-next,#blogSingle .arrows-button-next,#blogSingle .arrows-button-prev, .swiper-button-prev, .swiper-button-next,.woocommerce.infoOnHover li.product, .woocommerce.infoOnHover li.product .hover-image,.woocommerce.infoOnHover li.product a.product-link");($elements=($elements=$elements.add('#mobile-menu-button,.cartSidebarbtn,.sidebartogglebtn,#cart-close-btn,#toggle-sidebar-close-btn,#sidebar-open-overlay,.responsive-wishlist a, .popup_interaction .soundcloud-format .play-button-wrap, .blog-masonry-container .play-button,#ep-modal,#ep-modal.quickview-modal #modal-close, #ep-modal a[rel="next"], #ep-modal a[rel="prev"]')).add(".banner a,.gallery .postphoto, .galleryItem a, .portfolio a, .portfolio a, .readmore .loadMore, .woocommerce ul.products li.product .product-buttons > span a, .pDWrap .pDNavigation a,.pDWrap #PDclosePortfolio")).on("touchstart mouseenter focus",function(e){"touchstart"==e.type&&e.stopImmediatePropagation()})}},page_transition:function(){var self=this;self.$body.hasClass("ajax_page_transition")&&(self.$body.on("djax_updated",function(e,oldBlock,newBlock,scripts,links,styles){self.updateStyles(links,styles),oldBlock.after(newBlock),oldBlock.remove(),setTimeout(function(){self.updateScripts(scripts)},300)}),self.$body.on("djax_before_transition",function(){setTimeout(function(){self.scroll_to("top",3,100)},500),self.preloader_show()}))},scriptUpdateActions:function(){var self=this;self.$body.hasClass("ajax_page_transition")&&($("script").each(function(){$(this).attr("src")!==undefined&&self.assets.script.push($(this))}),self.$body.on("scripts_updated",function(){self.reInitScripts(),self.preloader_hide()}))},reInitScripts:function(){var self=this;self.snap_to_scroll(),self.fix_IOS_double_tap_issue(),self.lazyLoadOnHover(),self.lazyLoadOnLoad("#main-content"),self.homeHeight(),self.vcGridReInit(),self.epico_singlePage(),self.portfolioSlider(),self.epico_shortcode(!1),self.portfolioIsotope(0),self.portfolioDHashChange(),self.portfolioLoadMore(),self.pDNavigationNext(),self.pDNavigationPrevious(),self.Social_link(),self.pDCloseProject(),self.pDInitialize(),self.portfolio_next_prev(),self.portfolioDetailNavigationLoading(),self.minPageHeightSet(),self.blogLoadMore(),self.blogToggle(),self.blogPostSlider(),self.epico_blogMasonry(),self.parallaxImg(),self.interactiveBackgroundImg(),self.initVideoBackground(),self.videoBackgroundSize(),self.embed_video_lightgallery(),self.product_gallery_popup_lightGallery(),self.fitVideo(),self.commentRespond(),self.wpml_menu(),self.epico_carousel(),self.shortcodeAnimation(),self.wc_notices(),self.product_thumbnails(),self.runIsotopeInProducts(),self.woocommerce_filter(),self.single_product2_slider(),self.products_infoOnclick(),self.single_product2_scrollbar(),self.woocommerce_cats(),self.reInitVariation($("#main-content")),self.update_widget_cart_on_cart_page(),self.product_tabs(),self.product_variation(),self.product_image_zoom(),self.product_hover(),self.product_quickview(),self.wishlist_widget_update(),self.card_widget_update(),self.disable_price_slider_keydown_event(),self.price_slider_filter(),self.sync_fixed_add_to_cart(),self.fixed_add_to_cart_functionality(),self.fixed_add_to_cart_visibility(),self.product_next_prev_button(),self.wishlist_remove(),self.woocommerce_ajax_wrapper(),self.search_box_toggle(),self.compare(),self.initSelectElements(),self.woocommerce_variation_attributes(),self.woocommerce_variation_attributes_trigger(),self.product_size_guide(),self.cat_widget_update(),self.cat_widget(),self.show_more_tag(),self.getScrollBarWidth(),$("#fullScreenSlider").length&&(self.fullScreenSliderInit(),self.fullScreenSlider()),$("#fullScreenImage").length&&self.fullScreenImageInit(),self.nav(),self.UpdateCurrentMenuAncestorClass(),self.togglesidebar_scrollbar(),self.addToCart(),self.coveringLevelVerticalMenu(),self.epico_topbar(),self.epico_additionalScript(),self.social_share_pop_up(),self.remove_footer_creative_portfolio_detail(),self.remove_left_right_menu_creative_portfolio_detail(),self.galleryStart(),self.carousel_gallery(),self.instagramAnimation(),self.portfolio_detail_title(),1==self.enableScrollId&&($("#portfoliSingle").length||self.scroll_to(self.$scrolId,1)),self.contactform7(),self.updateToolbarEditLink(),$("#googleMap").length&&self.googleMap(),self.product_detail_height(),self.scrollToTopButton(),self.headerTransformation(),self.disable_djax_on_cart_page(),self.reinit_checkout_countery_select2()},updateScripts:function($scripts){var self=this;$("body script").each(function(){$(this).attr("src")===undefined&&$(this).remove()});for(var removedIndex=[],i=0;i<self.assets.script.length;i++){var $elem=$(self.assets.script[i]);$elem.attr("src")!==undefined&&($scripts.filter('script[src="'+$elem.attr("src")+'"]').length<=0?(removedIndex.push(i),self.$body.find('script[src="'+$elem.attr("src")+'"]').remove()):$scripts=$scripts.not('script[src="'+$elem.attr("src")+'"]'))}for(i=removedIndex.length-1;i>=0;i--)self.assets.script.splice(removedIndex[i],1);var custom_js_script=document.body.querySelectorAll('script[src*="custom.js"], script[src*="custom.min.js"]')[0];$scripts.each(function(index,val){if($(this).attr("src")===undefined){var ele=document.createElement("script"),type=$(this).attr("type");type===undefined&&(type="text/javascript"),ele.setAttribute("type",type),$(this).attr("id")!==undefined&&ele.setAttribute("id",$(this).attr("id")),ele.text=$(this).html();var first=document.body.getElementsByTagName("script")[0];first.parentNode.insertBefore(ele,first),$scripts=$scripts.not($(this))}});var recursiveAddingScript=function(scriptsList){if(scriptsList.length>0){var $newscript=scriptsList.eq(0),ele=document.createElement("script");ele.setAttribute("type","text/javascript"),ele.setAttribute("src",$newscript.attr("src")),ele.onload=function(){scriptsList=scriptsList.not($newscript),recursiveAddingScript(scriptsList)},custom_js_script.parentNode.insertBefore(ele,custom_js_script),self.assets.script.push(ele)}else self.$body.trigger("scripts_updated")};recursiveAddingScript($scripts)},updateStyles:function($links,$styles){var self=this;$("head style").each(function(){-1===$(this).html().indexOf("gm-style")&&$(this).remove()});for(var removedIndex=[],i=0;i<self.assets.css.length;i++){var $elem=$(self.assets.css[i]);$links.filter('link[href="'+$elem.attr("href")+'"]').length<=0&&(removedIndex.push(i),$("head").find('link[href="'+$elem.attr("href")+'"]').remove())}for(i=0;i<removedIndex.length;i++)self.assets.css.splice(removedIndex[i],1);$links.filter("link").each(function(index,val){if($("head").find('link[href="'+$(this).attr("href")+'"]').length<=0){var ele=document.createElement("link");ele.setAttribute("type","text/css"),ele.setAttribute("rel","stylesheet"),ele.setAttribute("media",$(this).attr("media")),ele.setAttribute("href",$(this).attr("href")),document.head.appendChild(ele),self.assets.css.push(ele)}}),void 0!==$styles&&$styles.each(function(index,val){document.head.appendChild(this)})},djaxifyRequests:function(){var self=this;if(!self.$body.hasClass("ajax_page_transition"))return self.djax=undefined,void(self.assets=undefined);self.djax=self.$body.djax(".main-content",["wp-login","/wp-content/","admin","resources","remove_from_wishlist=","add_to_wishlist","#","wpml","?locaklink","?post_type=product&add-to-cart=","add-to-cart=","#wpcf7-f4-o1"],no_ajax_objects.no_ajax_pages),self.$document.on("djaxClick",function(){self.abortImageLoading()})},reInitDjax:function(){var self=this;self.$body.hasClass("ajax_page_transition")&&self.djax.reInit()},ajaxify_search:function(){var self=this;self.$body.hasClass("ajax_page_transition")&&self.$document.find("div.search-form form").submit(function(e){var $this=$(this);e.preventDefault();var keyword=$this.find('input[name="s"]').val();if(""!=keyword){var url=$this.attr("action");$(this).siblings("a").attr("href",url+"?s="+keyword).trigger("click")}})},updateToolbarEditLink:function(content){var self=this;if($("#wp-admin-bar-edit").length>0){var page_id=self.$body.data("pageid"),new_link=$("#wp-admin-bar-edit a").attr("href").replace(/(post=).*?(&)/,"$1"+page_id+"$2");$("#wp-admin-bar-edit a").attr("href",new_link)}},preloader_show:function(){$("#preloader").length>0?($("#preloader").hasClass("firstload")&&$("#preloader").removeClass("firstload"),$("#preloader").css({display:"block"}),setTimeout(function(){$("#preloader").removeClass("hide-preloader creative").addClass("simple")},10)):$(".main-content").removeClass("show")},preloader_hide:function(){this.$body.removeClass("no-page-transition"),$(".main-content").addClass("show"),$("body.no-preloader.fade-up .footer-bottom").addClass("fadeIssueFixed"),$("#preloader").addClass("hide-preloader"),setTimeout(function(){$("#preloader").css({display:"none"})},510)},epico_topbar:function(){var self=this;0!=$("#wpadminbar").length&&self.windowWidth>1140?0!=$("#topbar").length?self.$epHeader.hasClass("closedtopbar")||(self.$epHeader.add(".navigation-mobile").add("#homeHeight").addClass("menuSpaceWpNoti"),$("#topbar").addClass("topbarSpaceWp")):self.$epHeader.add("#homeHeight").addClass("menuSpaceWp"):0==$("#topbar").length||$("#topbar").hasClass("closed-topbar")||self.$epHeader.add("#homeHeight").addClass("menuSpaceNoti"),0!=$("#wpadminbar").length&&0!=$(".vertical_menu_enabled").length&&$("#home .homeWrap .fullScreenImage").css({"margin-top":"32px"})},epico_additionalScript:function(){""!=epico_theme_vars.additionaljs&&eval(epico_theme_vars.additionaljs)},epico_scrolling:function(){var self=this;$(".navigation li a , #mobile-menu-items li a , .vertical_menu_navigation li a").click(function(e){var $this=$(this),hashAttr=$this.attr("data-hash");if($(".navigation li , #mobile-menu-items li , .vertical_menu_navigation li").removeClass("active current_page_item"),typeof hashAttr==typeof undefined||!1===hashAttr){var href=$this.attr("href");$('a[href="'+href+'"]').parent().addClass("active")}else $('.navigation li a[data-hash="'+hashAttr+'"]').add('#mobile-menu-items li a[data-hash="'+hashAttr+'"]').add('.vertical_menu_navigation li a[data-hash="'+hashAttr+'"]').parent().addClass("active");$this.hasClass("locallink")||(self.externalClicked=!0),$this.hasClass("externalLink")?self.$scrolId="#"+hashAttr:$this.hasClass("locallink")&&(e.preventDefault(),self.scrolingToSection=!0,self.scroll_to("#"+hashAttr,4)),$this.hasClass("externalLink")?self.enableScrollId=!0:self.enableScrollId=!1}),$("header a.locallink.logo , header.type2_3 .locallink.logo a  ,aside .locallink.logo,header .locallink.home , aside .locallink.home").click(function(e){var scroll=$(this).attr("href");e.preventDefault(),scroll=scroll.substring(scroll.indexOf("#"),scroll.length),self.scroll_to(scroll,2)});var pathname=window.location.href;window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var $originpathname=window.location.origin+window.location.pathname;pathname.search("#")>0&&$originpathname!==(pathname=pathname.substring(pathname.indexOf("#"),pathname.length))&&"#home"!==pathname&&$(".page-template-main-page-php").length&&self.scroll_to(pathname,1)},initialMenuArray:function(){for(var self=this,aChildren=self.$epHeader.find(".navigation li a").add(".vertical_menu_area .vertical_menu_navigation ul a"),i=0;i<aChildren.length;i++){var aChild=aChildren[i];if($(aChild).hasClass("locallink")){var ahref=$(aChild).attr("data-hash");-1==self.menuArray.indexOf(ahref)&&self.menuArray.push(ahref)}}},updateMenuOnActiveSection:function(){var self=this;if(self.$body.hasClass("home")&&self.$body.hasClass("page-template-main-page-php")&&0==self.scrolingToSection&&0==self.externalClicked)for(var $window_y=self.$window.scrollTop(),i=0;i<self.menuArray.length;i++){var theID="#"+self.menuArray[i],theHash=self.menuArray[i];if($(theID).length){var divPos=$(theID).offset().top,divHeight=$(theID).height(),menusize=87;$(".vertical_menu_area").length&&(menusize=0),0!=$("#wpadminbar").length&&(menusize+=36),"#home"==theID&&(divPos=0),self.$body.hasClass("home")&&(self.$epHeader.find(".navigation li.current_page_item").removeClass("current_page_item"),$("aside.vertical_menu_area .vertical_menu_navigation ul li.current_page_item").removeClass("current_page_item")),$window_y>=divPos-menusize&&$window_y<divPos+divHeight-menusize?(self.$epHeader.find(".navigation a[data-hash='"+theHash+"']").parent().addClass("active"),$("aside.vertical_menu_area nav.vertical_menu_navigation li a[data-hash='"+theHash+"']").parent().addClass("active")):(self.$epHeader.find(".navigation a[data-hash='"+theHash+"']").parent().removeClass("active"),$("aside.vertical_menu_area nav.vertical_menu_navigation li a[data-hash='"+theHash+"']").parent().removeClass("active"))}}},epico_singlePage:function(){var self=this,$portfolio_detail=$("#portfoliSingle");$portfolio_detail.length?(self.pDSwiper(),$portfolio_detail.hasClass("portfolio_detail_creative")&&(self.epico_scrollbar("#portfoliSingle .pd_creative_fixed_content .desc"),self.set_margin_creative_portfolio_detail(),$portfolio_detail.waitForImages(function(){$portfolio_detail.addClass("show")}))):($("#blogSingle").length||$(".cblog").length)&&(self.blogPostSlider(),self.socailshare())},search_form:function(){var self=this,$searchButton=$(".search-button");if(!($searchButton.length<=0)){var $searchForm=$("#search-form"),$searchInput=$searchForm.find('input[type="text"]');self.$document.on("click",function(e){$(e.target).is($searchInput)||($(e.target).is($searchButton)?($searchForm.toggleClass("showing"),setTimeout(function(){$searchInput.focus();var tmpStr=$searchInput.val();$searchInput.val(""),$searchInput.val(tmpStr)},100)):$searchForm.removeClass("showing"))})}},contactform7:function(){$(".wpcf7").length&&($(".wpcf7 input").focus(function(){$(this).parent(".wpcf7-form-control-wrap").siblings(".label").addClass("inputfocus"),$(this).parent(".wpcf7-form-control-wrap").siblings(".graylabel").addClass("inputfocus")}),$(".wpcf7 input").focusout(function(){$(this).parent(".wpcf7-form-control-wrap").siblings(".label").removeClass("inputfocus"),$(this).parent(".wpcf7-form-control-wrap").siblings(".graylabel").removeClass("inputfocus")}),$(".wpcf7 textarea").focus(function(){$(this).parent(".wpcf7-form-control-wrap").siblings(".label").addClass("inputfocus"),$(this).parent(".wpcf7-form-control-wrap").siblings(".graylabel").addClass("inputfocus")}),$(".wpcf7 textarea").focusout(function(){$(this).parent(".wpcf7-form-control-wrap").siblings(".label").removeClass("inputfocus"),$(this).parent(".wpcf7-form-control-wrap").siblings(".graylabel").removeClass("inputfocus")})),$(".comment-respond").length&&($(".comment-respond input").focus(function(){$(this).siblings(".label").addClass("inputfocus"),$(this).siblings(".graylabel").addClass("inputfocus")}),$(".comment-respond input").focusout(function(){$(this).siblings(".label").removeClass("inputfocus"),$(this).siblings(".graylabel").removeClass("inputfocus")}),$(".comment-respond textarea").focus(function(){$(this).siblings(".label").addClass("inputfocus"),$(this).siblings(".graylabel").addClass("inputfocus")}),$(".comment-respond textarea").focusout(function(){$(this).siblings(".label").removeClass("inputfocus"),$(this).siblings(".graylabel").removeClass("inputfocus")})),$("#review_form").length&&($("#review_form input").focus(function(){$(this).siblings(".label").addClass("inputfocus"),$(this).siblings(".graylabel").addClass("inputfocus")}),$("#review_form input").focusout(function(){$(this).siblings(".label").removeClass("inputfocus"),$(this).siblings(".graylabel").removeClass("inputfocus")}),$("#review_form textarea").focus(function(){$(this).siblings(".label").addClass("inputfocus"),$(this).siblings(".graylabel").addClass("inputfocus")}),$("#review_form textarea").focusout(function(){$(this).siblings(".label").removeClass("inputfocus"),$(this).siblings(".graylabel").removeClass("inputfocus")}))},sliderParallax:function(){var self=this;if(!($(".sliderParallax").length<=0||self.msie>0||self.msie11)&&self.windowWidth>1140&&!self.isTouchDevice&&$("#home").length>0){self.windowHeight=self.$window.height();var $slider=$("#home .slider-wrap"),latestKnownScrollPosition=($slider.find("#caption-start"),0),tick=!1,update_slider_position=function(){self.windowHeight<latestKnownScrollPosition?tick=!1:($slider.css({transform:"matrix(1, 0, 0, 1, 0, "+.6*latestKnownScrollPosition+")"}),tick=!1)};update_slider_position();var requestTick=function(){0==tick&&window.requestAnimationFrame(update_slider_position),tick=!0},onScroll=function(){latestKnownScrollPosition=window.scrollY,requestTick()};self.$window.on("scroll",onScroll),self.$window.one("djaxClick",function(){self.$window.unbind("scroll",onScroll)})}},headerTransformation:function(){var self=this,isFixedMenu="fixed-menu"===self.$epHeader.data("fixed");if(!(self.windowWidth<=1140||self.documentHeight<=500||isFixedMenu||self.$body.hasClass("vertical_menu_enabled"))){var latestKnownScrollPosition=0,tick=!1,changeStateThreshold=.1*self.windowHeight,update_menu_state=function(){changeStateThreshold>latestKnownScrollPosition?self.$epHeader.removeClass("state2"):self.$epHeader.addClass("state2"),tick=!1};update_menu_state();self.$window.on("scroll",function(){0==tick&&(window.requestAnimationFrame(update_menu_state),latestKnownScrollPosition=window.scrollY),tick=!0})}},product_next_prev_button:function(){var self=this;if(self.$body.hasClass("single-product")){var $original_next_button=$("#main span#next-product"),$original_prev_button=$("#main span#prev-product");$original_next_button.length>0&&($(".toggleSidebarContainer").siblings("span#next-product").length>0||$(".toggleSidebarContainer").siblings("span#prev-product").length>0?($original_next_button.find("a").length>0?($(".toggleSidebarContainer").siblings("span#next-product").addClass("visible").empty("").html($original_next_button.html()),self.reInitDjax()):$(".toggleSidebarContainer").siblings("span#next-product").removeClass("visible"),$original_prev_button.find("a").length>0?($(".toggleSidebarContainer").siblings("span#prev-product").addClass("visible").empty("").html($original_prev_button.html()),self.reInitDjax()):$(".toggleSidebarContainer").siblings("span#prev-product").removeClass("visible")):($(".toggleSidebarContainer").after($original_next_button).after($original_prev_button),setTimeout(function(){$original_next_button.addClass("visible"),$original_prev_button.addClass("visible")},200)))}else $("span#next-product").removeClass("visible"),$("span#prev-product").removeClass("visible")},fixed_add_to_cart_functionality:function(){var self=this;if(!(self.windowWidth<=1140||$("div.product").length<=0)&&self.$body.hasClass("fixed-add-to-cart-enable")){if($("div.product").hasClass("product-type-variable")||$("div.product").hasClass("product-type-grouped")?$("a.single_add_to_cart_button").removeClass("add_to_cart_button").addClass("go-to-add-to-cart"):$("a.single_add_to_cart_button").addClass("add_to_cart_button").removeClass("go-to-add-to-cart"),$("div.product").hasClass("product-type-external")?$(".fixed-add-to-cart").addClass("affilate-product"):$(".fixed-add-to-cart").removeClass("affilate-product"),$(".fixed-add-to-cart-container a.single_add_to_cart_button .txt").empty()){var $add_to_cart_button=$("a.single_add_to_cart_button");if($add_to_cart_button.eq(0).find(".txt").html())$add_to_cart_text=$add_to_cart_button.eq(0).find(".txt").html().trim();else var $add_to_cart_text=$add_to_cart_button.eq(0).html().trim();$(".fixed-add-to-cart-container a.single_add_to_cart_button .txt").html($add_to_cart_text).attr("data-hover",$add_to_cart_text),$(".fixed-add-to-cart-container a.single_add_to_cart_button").attr("title",$add_to_cart_text)}$(".fixed-add-to-cart .go-to-add-to-cart").on("click",function(e){e.preventDefault();var $top;$top=$("ul.variations").length>0?$("ul.variations").offset().top:$(".single_add_to_cart_button").eq(0).offset().top,$top-=100,self.$scrollpals.stop().animate({scrollTop:$top},1e3,"easeOutQuad")}),$(".fixed-add-to-cart .single_add_to_cart_button").not(".go-to-add-to-cart").on("click",function(e){e.preventDefault(),$(".single_add_to_cart_button")[0].click()}),$(".fixed-add-to-cart .yith-wcwl-add-button a").add(".woocommerce div.product div.summary .add_to_wishlist").on("click",function(){$(".fixed-add-to-cart .ajax-loading").css("visibility","visible")}),$(".fixed-add-to-cart .yith-wcwl-add-button a").on("click",function(){$(".woocommerce div.product div.summary .add_to_wishlist").eq(0).trigger("click")}),$(".fixed-add-to-cart a.compare").on("click",function(e){e.preventDefault(),$(".woocommerce div.product div.summary a.compare").eq(0).trigger("click")})}},sync_fixed_add_to_cart:function(){var self=this;self.windowWidth<=1140||$("div.product").length<=0||!self.$body.hasClass("fixed-add-to-cart-enable")||($(".yith-wcwl-add-button").hasClass("show")?($(".fixed-add-to-cart .yith-wcwl-add-button").removeClass("hide").addClass("show"),$(".fixed-add-to-cart .yith-wcwl-wishlistaddedbrowse").removeClass("show").addClass("hide")):($(".fixed-add-to-cart .yith-wcwl-add-button").removeClass("show").addClass("hide"),$(".fixed-add-to-cart .yith-wcwl-wishlistaddedbrowse").removeClass("hide").addClass("show")),$(document.body).on("adding_to_cart",function(){self.$document.find(".single_add_to_cart_button").addClass("loading")}),$(document.body).on("added_to_cart",function(){$("a.added_to_cart").removeClass("hide"),$(".single_add_to_cart_button").addClass("added").removeClass("loading")}),$(document.body).on("added_to_wishlist",function(){$(".fixed-add-to-cart .yith-wcwl-add-button").removeClass("show").addClass("hide"),$(".fixed-add-to-cart .ajax-loading").css("visibility","hidden"),$(".fixed-add-to-cart .yith-wcwl-wishlistaddedbrowse").removeClass("hide").addClass("show")}),setTimeout(function(){$("form.variations_form").on("show_variation",function(event,variation,purchasable){$(".fixed-add-to-cart a.added_to_cart").addClass("hide"),$(".fixed-add-to-cart .single_add_to_cart_button").removeClass("added")})},200))},fixed_add_to_cart_visibility:function(){var self=this;if(self.windowWidth<=1140||$("div.product").length<=0||!self.$body.hasClass("fixed-add-to-cart-enable")||$("div.product").hasClass("outofstock"))$(".fixed-add-to-cart, .scrollToTop").removeClass("visible");else{var latestKnownScrollPosition=0,tick=!1,visibility_range_start=$(".single_add_to_cart_button").eq(0).offset().top,visibility_range_end=self.documentHeight-self.windowHeight-50,$fixed_add_to_cart=$(".fixed-add-to-cart"),$scrollToTop=$(".scrollToTop"),isVerticalMenu=self.$body.hasClass("vertical_menu_enabled");$("ul.variations").length>0&&(visibility_range_start=$("ul.variations").offset().top);var update_fixedaddtocart_position=function(){latestKnownScrollPosition>=visibility_range_start&&(latestKnownScrollPosition<=visibility_range_end||isVerticalMenu)?($fixed_add_to_cart.addClass("visible"),$scrollToTop.addClass("visible")):($fixed_add_to_cart.removeClass("visible"),$scrollToTop.removeClass("visible")),tick=!1};update_fixedaddtocart_position();var update_range=function(){visibility_range_end=self.documentHeight-self.windowHeight-50};setTimeout(update_range,1e3),self.$window.on("document-height-changed",update_range);var requestTick=function(){0==tick&&window.requestAnimationFrame(update_fixedaddtocart_position),tick=!0},onScroll=function(){latestKnownScrollPosition=self.$window.scrollTop(),requestTick()};self.$window.on("scroll",onScroll),self.$window.one("djaxClick",function(){self.$window.unbind("scroll",onScroll).unbind("document-height-changed",update_range)})}},woocommerce_filter:function(){var self=this;if($(".shop-filter-toggle").on("click",function(){var $this=$(this),$search_keyword=$(".shop-filter .search-keyword");$this.toggleClass("open").removeClass("closed"),$this.siblings(".shop-filter").toggleClass("open"),self.windowWidth<1025&&($this.hasClass("open")?$(".shopFilterCategoriesBtn").addClass("closed"):$(".shopFilterCategoriesBtn").removeClass("closed")),$this.hasClass("open")?($search_keyword.addClass("hide"),$this.siblings(".shop-filter").find(".special-filter.cat").hasClass("opencat")&&($this.siblings(".shop-filter").find(".special-filter.cat").removeClass("opencat"),$this.siblings(".shopFilterCategoriesBtn").removeClass("opencat"))):$search_keyword.removeClass("hide")}),self.windowWidth<1025){$(".shopFilterCategoriesBtn").on("click",function(){var $this=$(this),$search_keyword=$(".shop-filter .search-keyword");$this.toggleClass("opencat").removeClass("closed"),$this.siblings(".shop-filter").find(".special-filter.cat").toggleClass("opencat"),$this.hasClass("opencat")?$(".shop-filter-toggle").addClass("closed"):$(".shop-filter-toggle").removeClass("closed"),$this.hasClass("opencat")?($search_keyword.addClass("hide"),$this.siblings(".shop-filter").hasClass("open")&&($this.siblings(".shop-filter").removeClass("open"),$this.siblings(".shop-filter-toggle").removeClass("open"))):$search_keyword.removeClass("hide")});var close_filter_and_cat=function(){$(".shop-filter").removeClass("open"),$(".shop-filter-toggle").removeClass("open closed"),$(".shop-filter .search-keyword").addClass("hide"),$(".shop-filter").find(".special-filter.cat").removeClass("opencat"),$(".shopFilterCategoriesBtn").removeClass("opencat closed")};if(self.$body.on("wc-content-updating",close_filter_and_cat),self.$document.on("click",".woocommerce .shop-filter .special-filter.cat",close_filter_and_cat),!$(".woocommerce .shop-filter .sidebar").length){self.$body.on("wc-content-updating",function(){$(".woocommerce .wc-sidebar-btn").removeClass("active").siblings(".sidebar").removeClass("show")}),self.$document.on("click",".woocommerce .wc-sidebar-btn",function(){var $this=$(this);$this.hasClass("active")?$this.siblings(".sidebar").removeClass("show"):$this.siblings(".sidebar").addClass("show"),$this.toggleClass("active")})}self.woocommerce_filter_responsive()}},woocommerce_filter_responsive:function(){var self=this,$shopFilterSidebar=$(".woocommerce .shop-filter .sidebar"),$shopSidebar=$("#woocommerce-sidebar .sidebar");self.windowWidth>1140||!$shopFilterSidebar.length&&!$shopSidebar.length||($shopFilterSidebar.length?($shopSidebar.contents().appendTo($shopFilterSidebar),$shopFilterSidebar.prepend($(".woocommerce .shop-filter .special-filter .widget.widget_on_sale_filter")),$shopFilterSidebar.prepend($(".woocommerce .shop-filter .special-filter .widget.widget_in_stock_filter"))):$shopSidebar.length&&$("#woocommerce-sidebar").contents().appendTo(".woocommerce .shop-filter"))},go_to_top_shop:function(){var self=this;setTimeout(function(){self.scroll_to(".shop_top_padding",1,400)},500)},woocommerce_disable_djax_on_widget_links:function(){var self=this;self.$body.hasClass("ajax_page_transition")&&self.$body.hasClass("woocommerce")&&self.$document.find(".widget_layered_nav li a, .widget_layered_nav_filters li a, .widget_product_categories li a, .widget.woocommerce.widget_product_tag_cloud a, .widget.woocommerce.widget_ranged_price_filter a,.on-sale-filter a,.in-stock-filter a, .widget_order_by_filter a,.shop-filter .search-keyword a, nav.woocommerce-pagination li a, .widget_rating_filter li a").addClass("no_djax")},woocommerce_active_tag:function(){var url=window.location.href;$('.widget.woocommerce.widget_product_tag_cloud a[href="'+url+'"]').addClass("current-cat")},woocommerce_ajax_wrapper:function(){var self=this;if(self.$body.hasClass("woocommerce")&&!self.$body.hasClass("single-product")){var is_active_ajax_request=function(){return!(!xhr||4==xhr.readyState)},hide_wrapper_loading=function(){$(".wc-ajax-content").css("opacity",1),$(".wc-ajax-wrapper > .wc-loading").addClass("hide")},show_wrapper_loading=function(){$(".wc-ajax-content").css("opacity",0),$(".wc-ajax-wrapper > .wc-loading").removeClass("hide")},display_bottom_filters=function(opacity){var $current_active_filters=$(".widget.widget_layered_nav_filters"),$result_count=$(".woocommerce-result-count");$current_active_filters.add($result_count).css("opacity",opacity)},update_widgets=function($response){var form=$response.find("form.woocommerce-product-search");$("form.woocommerce-product-search").attr("data-type",form.attr("data-type")).attr("action",form.attr("action"));var $search_keyword=$response.find(".search-keyword a");$search_keyword.length>0?$(".search-keyword").html($search_keyword).removeClass("hide").addClass("show"):$(".search-keyword").removeClass("show");var $shop_filter=$response.find(".shop-filter"),$result_count=$response.find("p.woocommerce-result-count"),$res_ordering=$response.find(".woocommerce-ordering select"),$res_shop_filters=$response.find(".shop-filter .widget-area"),$res_shop_cats=$response.find("#shop-filter-cat"),$res_shop_sidebar=$response.find("#woocommerce-sidebar"),$res_shop_bottom_filters=$response.find(".shop-filter .bottomPartFilter");setTimeout(function(){$shop_filter.length<=0?$(".shop-filter, .shop-filter-toggle").addClass("hidden"):$(".shop-filter, .shop-filter-toggle").removeClass("hidden"),$res_shop_cats.length>0&&$("#shop-filter-cat").html($res_shop_cats.html()),$(".shop-filter .widget-area").html($res_shop_filters.html()),$("#woocommerce-sidebar").html($res_shop_sidebar.html()),$(".woocommerce-result-count").html($result_count.html()),$(".woocommerce-ordering select").html($res_ordering.html()),$(".shop-filter .bottomPartFilter").html($res_shop_bottom_filters.html()),self.cat_widget_update(),setTimeout(function(){self.woocommerce_disable_djax_on_widget_links(),self.disable_price_slider_keydown_event(),self.price_slider_filter(),display_bottom_filters(1),self.woocommerce_filter_responsive(),self.initSelectElements("update"),self.layer_nav_ajax_dropdown(),self.cat_widget()},100)},200)},update_content=function($response,categoryChanged){var $new_block=$response.find(".wc-ajax-content"),$new_category_header=$response.find("#header"),$new_category_header_style=$new_category_header.prev("style"),$current_category_header=$("#header"),$current_category_header_style=$current_category_header.prev("style"),$new_top_space_classes=$response.find("#main-content").attr("class");$new_block.length>0?$(".wc-ajax-content").html($new_block.html()):($new_block=$response.find(".woocommerce-info").addClass("no-match"),$(".wc-ajax-content").html($new_block)),categoryChanged&&($new_category_header.length>0?$current_category_header.length>0?($current_category_header_style.replaceWith($new_category_header_style),$current_category_header.after($new_category_header.addClass("hide")),setTimeout(function(){$new_category_header.removeClass("hide")},100),setTimeout(function(){$current_category_header.remove()},400)):($("#pageHeight").before($new_category_header_style),$("#pageHeight").before($new_category_header.addClass("hideCompletly")),setTimeout(function(){$new_category_header.removeClass("hideCompletly")},200)):($current_category_header.addClass("hideCompletly"),setTimeout(function(){$current_category_header.remove(),$current_category_header_style.remove()},300)),$new_top_space_classes.length>0&&$("#main-content").addClass($new_top_space_classes)),setTimeout(function(){self.runIsotopeInProducts(),self.lazyLoadOnLoad("#main-content"),self.lazyLoadOnHover(),self.product_hover(),self.product_quickview(),self.reInitDjax(),self.products_infoOnclick()},50)},get_woocommerce_content=function(pageUrl,categoryChanged){is_active_ajax_request()&&xhr.abort(),self.abortImageLoading(),pageUrl&&(self.$body.trigger("wc-content-updating"),self.windowWidth<=1140&&self.go_to_top_shop(),show_wrapper_loading(),display_bottom_filters(0),pageUrl=pageUrl.replace(/\/?(\?|#|$)/,"/$1"),window.history.pushState({url:pageUrl,title:""},"",pageUrl),xhr=$.ajax({url:pageUrl,dataType:"html",data:{ajax_shop_req:!0},cache:!1,headers:{"cache-control":"no-cache"},method:"POST",error:function(XMLHttpRequest,textStatus,error){console.log("AJAX error - "+error)},success:function(response){var $response=$(response);update_content($response,categoryChanged),update_widgets($response)},complete:function(){hide_wrapper_loading(),self.compare()}}))};self.woocommerce_disable_djax_on_widget_links(),self.woocommerce_active_tag();var xhr;self.$document.on("click","nav.woocommerce-pagination li a, .back-to-shop",function(e){!0!==e.handled&&(e.handled=!0,e.preventDefault(),self.go_to_top_shop(),get_woocommerce_content($(this).attr("href"),!0))}),self.$document.on("click",".widget_layered_nav li a, .widget_layered_nav_filters li a,.on-sale-filter a,.in-stock-filter a",function(e){!0!==e.handled&&(e.handled=!0,e.preventDefault(),is_active_ajax_request()?$(this).closest("ul").find(".pending").removeClass("pending").toggleClass("chosen"):$(this).closest("li").addClass("pending"),$(this).closest("li").toggleClass("chosen"),get_woocommerce_content($(this).attr("href")))}),self.$document.on("click",".widget_rating_filter li a",function(e){!0!==e.handled&&(e.handled=!0,e.preventDefault(),$(this).closest("ul").find("li.chosen").is($(this).closest("li")),$(this).closest("li").toggleClass("chosen"),get_woocommerce_content($(this).attr("href")))}),self.$document.on("click",".widget_ranged_price_filter li a,.widget_order_by_filter li a",function(e){!0!==e.handled&&(e.handled=!0,e.preventDefault(),$(this).closest("ul").find("li.current").removeClass("current"),$(this).closest("li").toggleClass("current"),get_woocommerce_content($(this).attr("href")))}),self.$document.on("click",".widget.woocommerce.widget_product_tag_cloud a",function(e){!0!==e.handled&&(e.handled=!0,e.preventDefault(),$(this).closest(".tagcloud").find(".current-tag").removeClass("current-tag"),$(this).addClass("current-tag"),get_woocommerce_content($(this).attr("href")))}),self.$document.on("click",".widget_product_categories li a",function(e){!0!==e.handled&&(e.handled=!0,e.preventDefault(),$(this).closest(".widget_product_categories").find(".current-cat").removeClass("current-cat"),$(this).closest("li").addClass("current-cat"),get_woocommerce_content($(this).attr("href"),!0))}),self.$document.on("select2-open",".widget_product_categories .dropdown_product_cat:not(.change_event_removed)",function(e){$(this).addClass("change_event_removed"),$(".dropdown_product_cat").unbind("change")}),self.$document.on("change",".widget_product_categories select",function(e){if(!0!==e.handled){e.handled=!0;var url,selected=$(this).find("option:selected").val(),home_url=epico_theme_vars.home_url;url=home_url.indexOf("?")>0?home_url+"&product_cat="+selected:home_url+"?product_cat="+selected,get_woocommerce_content(url,!0)}}),self.$document.on("click",".widget_price_filter button.button",function(e){if(!0!==e.handled){e.handled=!0,e.preventDefault();var url=window.location.href,min_price=$(this).siblings("#min_price").val(),max_price=$(this).siblings("#max_price").val();url=self.updateQueryStringParameter(url,"min_price",min_price),url=self.updateQueryStringParameter(url,"max_price",max_price),get_woocommerce_content(url)}}),$(".woocommerce-ordering").off("change","select.orderby"),$(".woocommerce-ordering").on("change","select.orderby",function(){var selected=$(this).find("option:selected").val(),url=window.location.href;url=self.updateQueryStringParameter(url,"orderby",selected),get_woocommerce_content(url)}),self.$document.find("form.woocommerce-product-search").each(function(){var $this=$(this);$this.submit(function(e){e.preventDefault();var keyword=$this.find("input.search-field").val();if(""!=keyword){$this.find("input.search-field").blur();var url=$this.attr("action");url=self.updateQueryStringParameter(url,"s",keyword),"category"!=$this.attr("data-type")&&(url=self.updateQueryStringParameter(url,"post_type","product")),get_woocommerce_content(url)}})}),self.$document.on("click",".shop-filter .search-keyword a",function(e){!0!==e.handled&&(e.handled=!0,e.preventDefault(),$(this).closest(".search-keyword").toggleClass("show"),$("#special_layered_nav_filters").find(".search-keyword-active").removeClass("chosen"),get_woocommerce_content($(this).attr("href")))}),self.$document.on("keyup",".shop-filter .filter-search-form-container input[type='search']",function(e){var len=$(this).val().length,$search_hint=$(".shop-filter .search-hint");len>=2?$search_hint.removeClass("hide"):$search_hint.addClass("hide")}).on("keydown",".shop-filter .filter-search-form-container input[type='search']",function(e){13===e.which&&""!=$(this).val()&&setTimeout(function(){$(".shop-filter .search-hint").addClass("hide"),$(".shop-filter .search-keyword").removeClass("show")},300)})}},search_box_toggle:function(){var self=this;$(".shop-filter .search-box").on("click",function(e){$(this).toggleClass("open"),$(this).siblings(".filter-search-form-container").toggleClass("open"),$(this).siblings(".special-filter.cat").toggleClass("hide"),self.windowWidth<1025&&$(".shop-filter-toggle").hasClass("open")&&$(this).parent(".shop-filter").toggleClass("open"),$(".shop-filter .search-box").hasClass("open")||$(".shop-filter .search-hint").addClass("hide")})},updateQueryStringParameter:function(uri,key,value){var re=new RegExp("([?&])"+key+"=.*?(&|$)","i"),separator=-1!==uri.indexOf("?")?"&":"?";return uri.match(re)?uri.replace(re,"$1"+key+"="+value+"$2"):uri+separator+key+"="+value},update_widget_cart_on_cart_page:function(){this.$body.hasClass("woocommerce-cart")&&$(document).ajaxSend(function(event,xhr,settings){$("form.woocommerce-cart-form").attr("action");settings.url.indexOf("get_cart_totals")>0&&$(document.body).trigger("wc_fragment_refresh")})},reinit_checkout_countery_select2:function(){var self=this;if($(".woocommerce-checkout select.country_to_state.country_select").length>1){var getEnhancedSelectFormatString=function(){return{language:{errorLoading:function(){return wc_country_select_params.i18n_searching},inputTooLong:function(args){var overChars=args.input.length-args.maximum;return 1===overChars?wc_country_select_params.i18n_input_too_long_1:wc_country_select_params.i18n_input_too_long_n.replace("%qty%",overChars)},inputTooShort:function(args){var remainingChars=args.minimum-args.input.length;return 1===remainingChars?wc_country_select_params.i18n_input_too_short_1:wc_country_select_params.i18n_input_too_short_n.replace("%qty%",remainingChars)},loadingMore:function(){return wc_country_select_params.i18n_load_more},maximumSelected:function(args){return 1===args.maximum?wc_country_select_params.i18n_selection_too_long_1:wc_country_select_params.i18n_selection_too_long_n.replace("%qty%",args.maximum)},noResults:function(){return wc_country_select_params.i18n_no_matches},searching:function(){return wc_country_select_params.i18n_searching}}}},init_select2_for_wc_selects=function(){setTimeout(function(){if($.isFunction($.fn.select2)){$("select.country_select:visible, select.state_select:visible").each(function(){var select2_args=$.extend({placeholderOption:"first",width:"100%"},getEnhancedSelectFormatString());$(this).select2(select2_args)})}},1e3)};self.$body.bind("country_to_state_changed",function(){init_select2_for_wc_selects()}),init_select2_for_wc_selects()}},scrollToTopButton:function(){var self=this,$scrollToTop=$(".scrollToTop");if(!($scrollToTop.length<=0||self.windowWidth<=1140)){var latestKnownScrollPosition=0,tick=!1,visibilityThreshold=1.7*self.windowHeight;$scrollToTop.find("a").unbind().click(function(e){e.preventDefault(),self.scroll_to("top",3)});var update_button_visibility=function(){visibilityThreshold>latestKnownScrollPosition?$scrollToTop.removeClass("visibleScrollTop"):$scrollToTop.addClass("visibleScrollTop"),tick=!1};update_button_visibility();var requestTick=function(){0==tick&&window.requestAnimationFrame(update_button_visibility),tick=!0},onScroll=function(){latestKnownScrollPosition=window.scrollY,requestTick()};self.$window.on("scroll",onScroll),self.$window.one("djaxClick",function(){self.$window.unbind("scroll",onScroll)})}},snap_to_scroll:function(){var self=this;if(!self.$body.hasClass("snap-to-scroll")||self.windowWidth<=1140)self.$window.trigger("reset-snap-to-scroll");else{var footerHeight,footerAndWidgetHeight,delta=0,animating=!1,footerWidgetHeight=0,isfooterVisible=!1,sectionsAvailable=$(".ep-section"),$nav=null;sectionsAvailable.eq(0).addClass("visible"),sectionsAvailable.find(".section-container *").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){e.stopPropagation()});var st;sectionsAvailable.not(".footer-widgetized").children(".section-container").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){clearTimeout(st),st=setTimeout(function(){animating=!1},300),sectionsAvailable.filter(".visible").css("z-index",1),$(this).closest(".ep-section").hasClass("visible")&&self.$document.trigger("snap_to_scroll_slide_end")});var numberOfNavItem=sectionsAvailable.length;sectionsAvailable.filter(".footer-widgetized").length>0&&(numberOfNavItem-=1);$nav="<span></span>".repeat(numberOfNavItem);$("#main-content").append('<span id="snap-to-scroll-nav" class="visible-desktop">'+$nav+"</span>"),($nav=$("#snap-to-scroll-nav")).find("span:first").addClass("active"),$nav.find("span").on("click",function(){var $this=$(this),prevSectionNumber=$this.siblings(".active").index();prevSectionNumber<0&&(prevSectionNumber=sectionsAvailable.length),goToSection(prevSectionNumber,$this.index())});var activeNavItem=function(index){$nav.find("span.active").removeClass("active"),$nav.find("span").eq(index).addClass("active")},setHeight=function(){self.windowHeight=self.$window.outerHeight(),footerWidgetHeight=sectionsAvailable.find(".footer-widgetized-wrap").outerHeight(),footerHeight=$("footer").outerHeight(),footerAndWidgetHeight=footerHeight+footerWidgetHeight,sectionsAvailable.css({height:self.windowHeight,"min-height":self.windowHeight}),sectionsAvailable.filter(".footer-widgetized").css({height:footerAndWidgetHeight,"min-height":footerAndWidgetHeight}),$("footer").css("transform","translateY("+footerWidgetHeight+"px)")},showFooter=function(){isfooterVisible?$("footer.footer-bottom").css("transform","translateY(0px)"):footerWidgetHeight?$("footer.footer-bottom").css("transform","translateY("+footerWidgetHeight+"px)"):$("footer.footer-bottom").css("transform","")},showcase_bg_snap_to_scroll=function($showcase){"undefined"!==$showcase&&($showcase.find(".showcase-bg").removeClass("bg-animated active"),$showcase.find(".showcase-item").removeClass("active"),$showcase.find(".item-list li").removeClass("active"),$showcase.find(".showcase-item").first().addClass("active"),$showcase.find(".item-list li").first().addClass("active"),setTimeout(function(){$showcase.find(".showcase-bg").first().addClass("bg-animated active")},50))},resetSectionAnimations=function(){sectionsAvailable.filter(".visible").is(".last-section-before-footer")||sectionsAvailable.removeClass("visible-footer")},resetScroll=function(){delta=0},goToSection=function(prevSectionNumber,sectionNumber){if(1!=animating&&prevSectionNumber!=sectionNumber){isfooterVisible=!1,sectionsAvailable.css("z-index","");sectionsAvailable.filter(".visible");animating||(animating=!0,prevSectionNumber<sectionNumber?sectionsAvailable.eq(sectionNumber).prevAll(".ep-section").removeClass("visible").children(".section-container").removeClass("translateDown translateNone translateUp").addClass("scaleDown"):sectionsAvailable.eq(sectionNumber).nextAll(".ep-section").removeClass("visible").children(".section-container").removeClass("scaleDown translateNone translateUp").addClass("translateDown"),sectionsAvailable.eq(sectionNumber).addClass("visible").children(".section-container").removeClass("translateDown scaleDown translateUp").addClass("translateNone")),resetSectionAnimations(),resetScroll(),showFooter(),showcase_bg_snap_to_scroll(sectionsAvailable.filter(".visible")),activeNavItem(sectionsAvailable.filter(".visible").index())}},prevSection=function(event){if(1!=animating){isfooterVisible=!1,void 0!==event&&event.preventDefault(),sectionsAvailable.css("z-index","");var visibleSection=sectionsAvailable.filter(".visible");visibleSection.length<=0&&$(".last-section-before-footer").addClass("visible").children(".section-container").removeClass("scaleDown translateDown translateUp").addClass("translateNone"),animating||visibleSection.is(":first-of-type")||(animating=!0,visibleSection.removeClass("visible").children(".section-container").removeClass("scaleDown translateNone translateUp").addClass("translateDown"),visibleSection.prevAll(".ep-section").first().addClass("visible").children(".section-container").removeClass("translateDown scaleDown translateUp").addClass("translateNone")),resetSectionAnimations(),resetScroll(),showcase_bg_snap_to_scroll(sectionsAvailable.filter(".visible")),activeNavItem(sectionsAvailable.filter(".visible").index())}},nextSection=function(event){if(1!=animating){void 0!==event&&event.preventDefault(),sectionsAvailable.css("z-index","");var visibleSection=sectionsAvailable.filter(".visible");animating||isfooterVisible||(animating=!0,visibleSection.hasClass("last-section-before-footer")&&(visibleSection.addClass("visible-footer"),isfooterVisible=!0),visibleSection.removeClass("visible").children(".section-container").removeClass("translateDown translateNone translateUp").addClass("scaleDown"),visibleSection.nextAll(".ep-section").first().addClass("visible").children(".section-container").removeClass("translateDown scaleDown translateUp").addClass("translateNone")),resetScroll(),showcase_bg_snap_to_scroll(sectionsAvailable.filter(".visible")),activeNavItem(sectionsAvailable.filter(".visible").index())}},scrollHijacking=function(event){if(!self.$body.hasClass("disable-snap-to-scroll"))return event.originalEvent.detail<0||event.originalEvent.wheelDelta>0?(delta--,Math.abs(delta)>=1&&prevSection()):++delta>=1&&nextSection(),showFooter(),!1};self.$document.on("click",".showcase .next-showcase a",nextSection),self.$window.on("resize",setHeight),self.$window.on("resize",function(){self.windowWidth<=1140?(self.$body.addClass("snap-to-scroll-responsive"),self.$window.trigger("reset-snap-to-scroll")):self.$body.hasClass("snap-to-scroll-responsive")&&(clearTimeout(self.resizeId),self.resizeId=setTimeout(function(){self.snap_to_scroll()},300),self.$body.removeClass("snap-to-scroll-responsive"))}),self.$window.on("reset-snap-to-scroll",function(){self.$window.unbind("DOMMouseScroll mousewheel",scrollHijacking),self.$document.off("keydown"),self.$window.unbind("resize",setHeight),self.$document.unbind("click",".showcase .next-showcase a",nextSection),$("footer.footer-bottom").css("transform",""),sectionsAvailable.removeClass("visible").css("height","").css("min-height",""),sectionsAvailable.children(".section-container").removeClass("scaleDown translateNone translateUp translateDown")}),function(){var visibleSection=sectionsAvailable.filter(".visible"),topSection=visibleSection.prevAll(".ep-section"),bottomSection=visibleSection.nextAll(".ep-section");topSection.css("opacity",1).children(".section-container").addClass("scaleDown"),bottomSection.css("opacity",1).children(".section-container").addClass("translateDown"),visibleSection.css("opacity",1).children(".section-container").addClass("translateNone"),setTimeout(function(){self.$body.removeClass("snap-to-scroll-init")},100),setTimeout(function(){self.$window.on("DOMMouseScroll mousewheel",scrollHijacking)},1e3),self.$document.on("keydown",function(event){"40"==event.which?(event.preventDefault(),nextSection()):"38"==event.which&&(event.preventDefault(),prevSection())})}(),setHeight(),sectionsAvailable.last().hasClass("footer-widgetized")?sectionsAvailable.last().prev(".ep-section").addClass("last-section-before-footer"):sectionsAvailable.last().addClass("last-section-before-footer"),$(".showcase").closest(".section-container").addClass("ep-section-showcase")}},epico_blogMasonry:function(isLoadMore){var self=this;$(".masonry-blog.isotope").each(function(){var $container=$(this),$layoutMode=$(this).data("layoutmode"),$columnNumber=$(this).data("columnnumber");self.windowWidth<=979&&($columnNumber=2,self.windowWidth<=480&&($columnNumber=1));var $blog_wrap_width=$(this).parents(".vc_column-inner").width(),$colWidth=Math.floor($blog_wrap_width/$columnNumber)-30;1!=isLoadMore&&$container.isotope({itemSelector:".isotope-item",layoutMode:$layoutMode}),self.isotopeAnimation($container);var blog_resize_handler=function(){setTimeout(function(){$container.isotope("reLayout")},300)};self.$window.on("resize",blog_resize_handler),self.$window.one("djaxClick",function(){self.$window.unbind("resize",blog_resize_handler)}),$container.find(".blog-masonry-container").each(function(){var $blogItems=$(this);$(this).find(".blogGalleryContainer");$blogItems.css({width:$colWidth,"max-width":$colWidth}),$blogItems.find(".swiper-container").each(function(){var $this=$(this);if($this.find(".swiper-slide").length>1){var $next_button=$this.find(".swiper-button-next"),$prev_button=$this.find(".swiper-button-prev"),$autoplayDuration=3e3+Math.floor(4e3*Math.random());if($this[0].swiper!=undefined)return!0;var $blog_cart_slider=new Swiper($this,{speed:600,longSwipesMs:700,touchAngle:30,loop:!0,autoplayDisableOnInteraction:!1,spaceBetween:0,followFinger:!1,nextButton:$next_button,prevButton:$prev_button,autoplay:$autoplayDuration}),blog_cart_slider_resize_handler=function(){setTimeout(function(){$blog_cart_slider.onResize()},100)};self.$window.on("resize",blog_cart_slider_resize_handler),self.$window.one("djaxClick",function(){self.$window.unbind("resize",blog_cart_slider_resize_handler)}),blog_cart_slider_resize_handler()}else $this.find(".swiper-wrapper").addClass("disabled_swiper")}),self.galleryStart()})})},galleryStart:function(){var self=this;"function"==typeof $.fn.lightGallery&&$(".ep_lightGallery").each(function(){var $this=$(this),$slideAnimation=$this.parent(".isotope").data("animation-type"),$galleryId=$this.attr("id");$this.lightGallery({selector:".galleryItem",counter:!0,mode:$slideAnimation,speed:400,thumbnail:!0,currentPagerPosition:"middle",galleryId:$galleryId,iframeMaxWidth:"80%"}),$this.on("onBeforeOpen.lg",function(event){$(".isotope.lightPopUp").click(function(){$(".lg").addClass("lightStyle"),$(".lg-backdrop.in").addClass("galleryBack")})}),$this.on("onAfterOpen.lg",function(event){$(".isotope .isotope-item").click(function(){$(".ep_lightGallery").removeClass("activeGallery"),$(this).parents(".ep_lightGallery").addClass("activeGallery");var $json=$.parseJSON($(this).find(".postphoto .galleryItem a.portfolioLink").data("social-share"));$(".lg-outer .bd_socail_share").remove(),$(".lg-outer .lg-toolbar.group .lg-autoplay-button").after($json),$(".social_share_toggle").hover(function(){$(".social_share_toggle .social_links_list").toggleClass("openToggle")}),self.social_share_pop_up(),self.$body.addClass("gl-open")})}),$this.on("onAfterAppendSubHtml.lg",function(event){var $index=$(".lg-inner .lg-item.lg-current").index(),$json=$.parseJSON($(".ep_lightGallery.activeGallery").find(".postphoto .galleryItem a.portfolioLink").eq($index).data("social-share"));$(".lg-outer .bd_socail_share").remove(),$(".lg-outer .lg-toolbar.group .lg-autoplay-button").after($json),$(".social_share_toggle").hover(function(){$(".social_share_toggle .social_links_list").toggleClass("openToggle")}),self.social_share_pop_up(),$(".lg-sub-html").children().show("opacity",1)}),$this.on("onBeforeClose.lg",function(event){self.$body.removeClass("gl-open")})})},compare:function(){var self=this,$compare_modal=self.$document.find("#ep-modal"),$compare_content=$compare_modal.find("#modal-content"),$compare_wrapper=$compare_modal.find(".modal-content-wrapper");$(".compare").on("click",function(){$compare_modal.addClass("compare-modal open").removeClass("closed")}),$compare_modal.on("click",function(e){$compare_modal.hasClass("compare-modal")&&($compare_wrapper.is(e.target)||0!==$compare_wrapper.has(e.target).length||closeCompareModal())}),self.$document.on("click","#ep-modal.compare-modal #modal-close",function(e){e.preventDefault(),closeCompareModal()});var closeCompareModal=function(){$compare_modal.removeClass("shown loading open").addClass("closed"),setTimeout(function(){self.$body.removeClass("modal-open"),$compare_modal.removeClass("compare-modal")},300),setTimeout(function(){$compare_content.html("")},800);var widget_list=$(".yith-woocompare-widget ul.products-list"),data={action:yith_woocompare.actionview,context:"frontend"};void 0!==$.fn.block&&widget_list.block({message:null,overlayCSS:{background:"#fff url("+yith_woocompare.loader+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}}),$.ajax({type:"post",url:yith_woocompare.ajaxurl.toString().replace("%%endpoint%%",yith_woocompare.actionview),data:data,success:function(response){void 0!==$.fn.block&&widget_list.unblock().html(response),widget_list.html(response)}})};self.$body.off("yith_woocompare_open_popup"),self.$body.on("yith_woocompare_open_popup",function(e,data){var url=data.response;self.$body.addClass("modal-open"),$.post({url:url+" .compare-list",cache:!1,headers:{"cache-control":"no-cache"},success:function(response){$compare_content.html(response),$compare_modal.addClass("shown"),self.epico_scrollbar("table.compare-list tr.description td p:first-child ")}})}),self.$document.find("ep-modal.compare-modal tr.remove a").off("click"),self.$document.on("click","#ep-modal.compare-modal tr.remove a",function(e){e.preventDefault(),$(this).addClass("noRotate");var button=$(this),data={action:yith_woocompare.actionremove,id:button.data("product_id"),context:"frontend"};$("td.product_"+data.id+", th.product_"+data.id);void 0!==$.fn.block&&button.block({message:null,overlayCSS:{background:"#fff url("+yith_woocompare.loader+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}}),$.ajax({type:"post",url:yith_woocompare.ajaxurl.toString().replace("%%endpoint%%",yith_woocompare.actionremove),data:data,dataType:"html",success:function(response){var table=$(response).filter("table.compare-list");$("body  table.compare-list").replaceWith(table),$('.compare[data-product_id="'+button.data("product_id")+'"]',window.parent.document).removeClass("added").html(yith_woocompare.button_text),self.$window.trigger("yith_woocompare_product_removed")}})})},getScrollBarWidth:function(){var self=this,inner=document.createElement("p");inner.style.cssText="width: 100%; height: 200px;";var outer=document.createElement("div");outer.style.cssText="width: 200px; height: 150px; position:absolute; visibility:hidden; left:0px; top:0px; overflow:hidden;",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;w1==w2&&(w2=outer.clientWidth),document.body.removeChild(outer),w1-w2>0&&self.$body.height()>self.windowHeight&&(self.$body.addClass("has-scrollbar"),w1-w2==15?self.$body.addClass("scrollbarSize15"):w1-w2==17?self.$body.addClass("scrollbarSize17"):w1-w2==12&&self.$body.addClass("scrollbarSize12"))},cat_widget_update:function(){var $list=$(".widget_product_categories").find(".product-categories");$list.find(".cat-parent").each(function(){var $this=$(this);if($this.find("ul").length<=0)return!0;$this.hasClass("current-cat-parent")?$this.append('<div class="cats-toggle toggle-active"></div>'):$this.append('<div class="cats-toggle"></div>')}),$list.find("li.current-cat").length>0&&$list.find("li.current-cat").parents("ul").css("display","block")},cat_widget:function(){$(".widget_product_categories").find(".product-categories").on("click",".cats-toggle",function(){var $btn=$(this),$subList=$btn.prev();$subList.hasClass("list-shown")?($btn.removeClass("toggle-active"),$subList.stop().slideUp(500).removeClass("list-shown")):($subList.parent().parent().find("> li > .list-shown").slideUp().removeClass("list-shown"),$subList.parent().parent().find("> li > .toggle-active").removeClass("toggle-active"),$btn.addClass("toggle-active"),$subList.stop().slideDown(500).addClass("list-shown"))})},cookiesBar:function(){if("undefined"==typeof Cookies)return!1;if("accepted"!=Cookies.set("ep_cookies")){var cookiesbar=$(".ep-cookies-bar");setTimeout(function(){cookiesbar.addClass("bar-display"),cookiesbar.on("click",".cookies-accept-btn",function(e){e.preventDefault(),acceptCookies()})},2500);var acceptCookies=function(){cookiesbar.removeClass("bar-display").addClass("bar-hide"),Cookies.set("ep_cookies","accepted",{expires:60,path:"/"})}}},account_popup:function(){var self=this;$(".login-link-popup").on("click",function(e){e.preventDefault();$(this);var $account_modal=self.$document.find("#ep-modal"),$account_content=($account_modal.find(".modal-content-wrapper"),$account_modal.find("#modal-content"));if(!($account_modal.length<=0)){$account_modal.addClass("hidden-nav"),self.$body.addClass("modal-open"),$account_modal.addClass("account-modal"),$account_modal.removeClass("closed").hasClass("open")||$account_modal.removeClass("loading").addClass("open");var $data=$("#customer_login.hide-login").clone().removeClass("hide-login");$account_content.html($data),$account_modal.addClass("shown"),$account_modal.on("click",function(e){$account_content.is(e.target)||0!==$account_content.has(e.target).length||self.close_account_popup()}),self.$document.on("click","#ep-modal.account-modal #modal-close",function(e){e.preventDefault(),self.close_account_popup()}),self.$document.keyup(function(e){27===e.keyCode&&self.close_account_popup()})}})},close_account_popup:function(){var self=this,$account_modal=self.$document.find("#ep-modal.account-modal"),$account_content=$account_modal.find("#modal-content");$account_modal.removeClass("shown loading open").addClass("closed"),setTimeout(function(){self.$body.removeClass("modal-open"),$account_modal.removeClass("account-modal")},300),setTimeout(function(){$account_content.html("")},800)}},$.VitrineTheme=VitrineTheme.prototype,$(document).ready(function(){new VitrineTheme})}(jQuery,window,document);
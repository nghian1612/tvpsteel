function DOMParser(){"use strict";var t=DOMParser.prototype,e=t.parseFromString;try{if((new DOMParser).parseFromString("","text/html"))return}catch(i){}t.parseFromString=function(t,i){if(/^\s*text\/html\s*(?:;|$)/i.test(i)){var o=document.implementation.createHTMLDocument("");return t.toLowerCase().indexOf("<!doctype")>-1?o.documentElement.innerHTML=t:o.body.innerHTML=t,o}return e.apply(this,arguments)}}!function(t){"use strict";function e(e,i){this.$target=t(e),this.opts=t.extend({},l,i,this.$target.data()),this.isOpen===undefined&&this._init()}var i,o,r,n,a,s,h,l={errorNotice:"The image could not be loaded",errorDuration:2500,preventClicks:!0,onShow:t.noop,onHide:t.noop,onMove:t.noop};e.prototype._init=function(){this.$link=this.$target.find("a"),this.$image=this.$target.find("img"),this.$flyout=t('<div class="easyzoom-flyout" />'),this.$notice=t('<div class="easyzoom-notice" />'),this.$target.on({"mousemove.easyzoom touchmove.easyzoom":t.proxy(this._onMove,this),"mouseleave.easyzoom touchend.easyzoom":t.proxy(this._onLeave,this),"mouseenter.easyzoom touchstart.easyzoom":t.proxy(this._onEnter,this)}),this.opts.preventClicks&&this.$target.on("click.easyzoom",function(t){t.preventDefault()})},e.prototype.show=function(t,e){var a,s,l,u,d=this;if(clearTimeout(h),!this.$target.hasClass("is-ready"))return this._loadImage(this.$target.data("zoom-image"),function(){!d.isMouseOver&&e||d.show(t)});this.$target.parents(".zoom-container").find(".easyzoom-flyout").remove(),this.$target.parents(".zoom-container").prepend(this.$flyout),a=this.$target.width(),s=this.$target.height(),l=this.$flyout.width(),u=this.$flyout.height(),i=this.$zoom.width()-l,o=this.$zoom.height()-u,(i<=0||o<=0)&&this.$target.addClass("no-zoom"),r=i/a,n=o/s,this.isOpen=!0,this.$flyout.addClass("shown"),this.opts.onShow.call(this),t&&this._move(t)},e.prototype._onEnter=function(t){var e=t.originalEvent.touches;this.isMouseOver=!0,e&&1!=e.length||(t.preventDefault(),this.show(t,!0))},e.prototype._onMove=function(t){this.isOpen&&(t.preventDefault(),this._move(t))},e.prototype._onLeave=function(){this.isMouseOver=!1,this.isOpen&&this.hide()},e.prototype._onLoad=function(t){t.target.width&&(this.isReady=!0,this.$notice.detach(),this.$flyout.html(this.$zoom),this.$target.removeClass("is-loading").addClass("is-ready"),t.data.call&&t.data())},e.prototype._onError=function(){var t=this;this.$notice.text(this.opts.errorNotice),this.$target.removeClass("is-loading").addClass("is-error"),this.detachNotice=setTimeout(function(){t.$notice.detach(),t.detachNotice=null},this.opts.errorDuration)},e.prototype._loadImage=function(e,i){var o=new Image;this.$target.addClass("is-loading"),this.$zoom=t(o).on("error",t.proxy(this._onError,this)).on("load",i,t.proxy(this._onLoad,this)),o.style.position="absolute",o.src=e},e.prototype._move=function(t){if(0===t.type.indexOf("touch")){var e=t.touches||t.originalEvent.touches;a=e[0].pageX,s=e[0].pageY}else a=t.pageX||a,s=t.pageY||s;var h=this.$target.offset(),l=s-h.top,u=a-h.left,d=Math.ceil(l*n),c=Math.ceil(u*r);if(c<0||d<0||c>i||d>o)this.hide();else{var f=-1*d,g=-1*c;this.$zoom.css({top:f,left:g}),this.opts.onMove.call(this,f,g)}},e.prototype.hide=function(){if(this.isOpen){this.$flyout.removeClass("shown"),this.isOpen=!1;var t=this.$flyout;h=setTimeout(function(){t.remove()},300),this.opts.onHide.call(this)}},t.fn.easyZoom=function(i){return this.each(function(){var o=t.data(this,"easyZoom");o?o.isOpen===undefined&&o._init():t.data(this,"easyZoom",new e(this,i))})},"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports&&(module.exports=e)}(jQuery),DOMParserFlag=!1,0==DOMParserFlag&&(DOMParserFlag=!0),function(t,e){"use strict";t.fn.djax=function(e,i,o){if(!history.pushState)return t(this);var r=this,n=e,a=i&&i.length?i:[],s=o&&o.length?o:[];return window.history.replaceState({url:window.location.href,title:t("title").text()},t("title").text(),window.location.href),r.clearDjaxing=function(){r.djaxing=!1},r.attachClick=function(e,i){var o=t(e),n=!1;return("undefined"!==o.attr("target")&&"_blank"==o.attr("target")||o.hasClass("no_djax"))&&(n=!0),0==n&&t.each(a,function(t,e){if(-1!==o.attr("href").indexOf(e))return n=!0,!1}),0==n&&t.each(s,function(t,e){if(o.attr("href")==e)return n=!0,!1}),n?t(e):(i.preventDefault(),r.djaxing?(setTimeout(r.clearDjaxing,1e3),t(e)):(t(window).trigger("djaxClick",[e]),r.reqUrl=o.attr("href"),r.triggered=!1,void r.navigate(o.attr("href"),!0)))},r.navigate=function(e,i){var o=t(n);r.djaxing=!0,t(window).trigger("djaxLoading",[{url:e}]);var a=function(a){if(e!==r.reqUrl)return r.navigate(r.reqUrl,!1),!0;var s=t(a),h=s.find(n);i&&window.history.pushState({url:e,title:t(s).filter("title").text()},t(s).filter("title").text(),e),t("title").text(t(s).filter("title").text());var l=(new DOMParser).parseFromString(a,"text/html"),u=l.body.getAttribute("class");t("body").removeClass().addClass(u),t("body").data("pageid",l.body.getAttribute("data-pageid"));for(var d=l.getElementsByTagName("meta"),c=0,f=d.length;c<f;c++)null!==d[c].getAttribute("name")?t('head meta[name="'+d[c].getAttribute("name")+'"]').attr("content",d[c].getAttribute("content")):null!==d[c].getAttribute("property")?t('head meta[property="'+d[c].getAttribute("property")+'"]').attr("content",d[c].getAttribute("content")):d[c].getAttribute("itemprop"),t('head meta[itemprop="'+d[c].getAttribute("property")+'"]').attr("content",d[c].getAttribute("content"));o.each(function(){var e="#"+t(this).attr("id"),i=h.filter(e),o=t(this);if(i.length){if(o.html()!==i.html()){var r=t(l),n=r.find("script"),a=r.find('link[rel="stylesheet"]'),s=r.find("style");t("body").trigger("djax_updated",[o,i,n,a,s])}}else o.remove()}),t.each(h,function(){var e,i=t(this),o="#"+t(this).attr("id");t(o).length||((e=t(s).find(o).prev()).length?i.insertAfter("#"+e.attr("id")):i.prependTo("#"+i.parent().attr("id"))),t("a",i).filter(function(){return this.hostname===location.hostname}).on("click",function(t){return r.attachClick(this,t)})}),r.triggered||(t(window).trigger("djaxLoad",[{url:e,title:t(s).filter("title").text(),response:a}]),r.triggered=!0,r.djaxing=!1)};t.ajax({url:e,data:{djax_req:!0},beforeSend:function(){t("body").trigger("djax_before_transition")},success:function(t){a(t)},error:function(t){console.log("error",t),a(t.responseText)}})},t(this).find("a").filter(function(){return this.hostname===location.hostname}).on("click",function(t){return r.attachClick(this,t)}),t(window).bind("popstate",function(t){r.triggered=!1,t.originalEvent.state&&(r.reqUrl=t.originalEvent.state.url,r.navigate(t.originalEvent.state.url,!1))}),r.reInit=function(){return t(this).find("a").filter(function(){return this.hostname===location.hostname}).on("click",function(t){return r.attachClick(this,t)}),this},this}}(jQuery,window);
//# sourceMappingURL=modifiedscripts.min.js.map